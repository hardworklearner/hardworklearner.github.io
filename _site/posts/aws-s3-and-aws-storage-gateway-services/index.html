<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en-US" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="AWS S3 and AWS Storage Gateway Services:" />
<meta name="author" content="Hardwork đẹp trai" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Advannce S3 S3 MFA Delete MFA (mutil factor authentication) forces uses to genenrate a code in a device (usually a mobile phone or hardware) before doing important operation on S3 To use MFA-Delete, enable versioninng on the S3 bucket You will eed MFA to permanetly delete ann object versio susped versioing on the bucket You won’t need MFA for enabling versionnig listing deleted versions Only the bucket owner (root account) can eable/disab;e MFA delete MFA-Delete currently can only enabled using CLI S3 Default Encryption vs Bucket Policies One way tp “force encryption” is to use a bucket policy ad refuse any API ccall to PUT a S3 object without encryption headers: Another way is to use the “default ecryption” option in S3 Note: Bucket Policies are evaluated before “default encryption” S3 Access Logs For audit purpose, you may want to log all access to S3 buckets Any request made to S3, from any accout, authorized or denied, will be logged into aother S3 bucket That data can be analyzed using data analysis tools… Or Amazon Athena as we’ll see later i this secction S3 Access Logs: Warning Do not set your logging bucket to be the monitored bucket It will create a logging loop, and your bucket will grow in size exponetially S3 Replication (CRR &amp; SRR) Must enable versioing in source and destiation Cross Region Repliccationn (CRR) Same Region Replication (SRR) Buckets ca be in different accounts copying is asynchronous Must give proper IAM permissions to S3 CRR - Use cases: compliancce, lower latency access, replicatio across acccounts SRR - Use ccases: log aggregatio, live replication between production annd test accounnts S3 Replication - Notes After activating, onnly new objects are replicated Optioally, you can replicate existing objects usig S3 batch replication Replicates existing objects and objects that failed replication For DELETE operationns: Can replicate delete markers from source to target (optional settinng) Deleteions with a version ID are not replicated (to avoid malicious deletes) There is no “chaining” of replication If bucket I replcatio into bicket 2, which has replication into bucket 3 Then object create inn bucket I are not replicated to bucket 3 S3 Pre-Signed URLs Cann generate pre-signed URLs using SDK or CLI For downloads (easy, can use the CLI) For uploads (harder, must use the SDK) Valid for a default of 3600 secods, can change timeout with –expireds-in [TIME_BY_SECONDS] argument Users given a pre-signed URL innherit the permissions of the perso who gennerated the Url for GET / PUT Examples: Allow only logged-in users to download a premium video on your S3 bucket Allow a ever changing list of users to download files by generatig URLs dynnamically Allow temporarily a user to upload a file to a precise loccation in our bucket S3 Storage Classes Amazon S3 Standard - Genneral Purpose Amazon S3 Stadard-ifrequent Access(IA) Amazon S3 One Zone-Infrequent Access Amazon S3 Glacier Instant Retrieval Amazon S3 Glacier Flexible Retrieval Amazo S3 Glacier Deep Archive Amazon S3 Intelligent Tierinng Can move betwee classes maually or using S3 lifecycle cofigurations S3 Durability and Availability Durability High durability (99,999999999%   9’s) of objects across multiple AZ If you store 10.000.000 objects with Amazon S3, you ccan on average expect to incur a loss of a single object once every 10.000 years Same for all storage classes Availability Measures how readily available a service is Varies depedig o storage class Example: S3 standard has 99.99% availability = not avaiable 53 minutes a year S3 Standard - General Purpose 99.99% Availability Used for frequently accessed data Low latenccy annd high throughput Sustai 2 concurennt faccility failures Use CAses: Big Data analytics, mobile &amp; gaming appliccations, conntet distribution… S3 Storage Classes - Innfrequent Access For data that is less frequently accessed, but requires rapid access when needed Lower cost than S3 Standard Amazon S3 Standard- Ifreqeunt Access (S3 Standard-IA) 99.9% Availability Use cases: Disaster recovery, backups Amazon S3 Oe Zonne-Infrequet Acccess (S3 One Zone-IA) High durability (99.999999999%) in a sigle AZ; data lost when AZ is destroyed 99.5% Availability Use Cases: Storing secodary backup copies of on-premises data, or data you cann recreate Amazo S3 Glacier Storage Classes Low cost objecct storage meant for archving / backup Pricing: pricce for storage + object retrieval cost Amazon S3 Glacier Instant Retrieval Milisecond retrieval, greate for data accessed once a quarter Minimum storage duration of 90 days Amazon S3 Glacier Fexible Retrieval (formerly Amazon S3 Glacier): Expedited (1 to 5 minutes), Standard (3-5 hours), Bulk (5-12 hours)- free Amazon S3 Glaccier Deep Archive - for long term storage Standard (12 hours), Bulk (48 hours) Minimum storage duration of 180 days S3 Intelliget-Tiering Small mothly moitorig ad auto tierig fee Moves objects automatically between Acccess Tiers based on usage There are o retrieval charges i S3 Itelliget-Tierig Frequet Access tier (automatic): default tier ifrequet Access tier (automatic): objet ot accessd for 30days Archive Istant Access tier (automatic): object ot accessed for 90days Archive Access tier (optioal): configuratio from 90 days to 700+ days Deep Arcchive Access tier (optionnal): ccofig, from 180 days to 700+ days S3 - Moving between storage classes You can transition objeccts betwee storage classes For infrequently accessed objecct, move them to STADARD_IA For arcchive objects you don’t need in real-time, GLACIER or DEEP_ARCHIVE Moving objects can be automated using a lifecycle configuration S3 Lifecycle rules Transition actions: It defines whe objects are transitioned to aother storage class Move objects to Standard IA class 60 days after creatio Move to Glacier for archiving after 6 months Expiration actions: configure objects to expire (delete) after some time Access log files can be set to delete after a 365 days Can be used to delete old versions of files (if versioning is enabled) Rules can be created for a certai prefix (ex- s3://mybucket/mp3/*) Rules can be created for certain object tags (ex: Departmet Fiancer) S3 Lifecycle Rules - Sceario I Your applicationn o Ec2 creates images thuhmbails after profile photos are uploaded to Amazon S3. These thumbails can be easily recreated, ad only need to kept for 45 days. The source images should be able to be immediately retrieved for these 45 days, and afterwards, the user can wait up to 6 hours. How would you desig this? S3 source images can be on STADARD, with a lifecycle configuration to transitionn them to GLACCIER after 45 days. S3 thumbnails cann ben o OEZOE_IA, with a lifecycle configurationn to expire them (delete them) after 45 days.es S3 Lifecyccle Rules - Scennario 2 A rule in your company stated that you should be able to recover your deleted S3 objects immediatedly for 15days, although this happen rarely. after this time, and for up to 365 days, deleted objects should be recoverable within 48 hours. You need to enable S3 versioning in order to have objecct versions, so thhat “deleted objects” are in fact hidden by a “delete marker” ad ccan be recored You can transition these “ocurrent versions” of the object to S3_IA You can transition afterwards these “noncurrent versios” to DEEP_ARCHIVE S3 Analyticcs - Storage class analysis You can setup S3 Abakytics too help determine wheh to trannsition objects from Stadard to Standard_IA Does ot work for ONNCCEZONE_IA or GLACIER Report is updated daily Takes about 24h to 48h hours to first start Good first step to put together lifecycle rules (or improve them)! S3 Baseline Performace Amazon S3 automatically scales to high request rates, latecy 100-200 ms Your applicationnn ccan achieve at lease 3500 PUT/COPY/POST/DELETE and 5500 GET/HEAD request per secod per prefix in a bucket. There are o limits to the number of prefixes in a bucket Example (object path -&gt; prefix): bucket/folder1/sub/file =&gt; /folder1/sub1/ If you spread read across all four prefixes evenly, you can achieve 22000 requests per second for GET and HEAD S3 KMS Limitatio If you use SSE-KMS, you may be impacted by the KMS limits When you upload, it calls the GenerateDataKey KMS API When you download, it calls the Deccrypt KMS API Cout towards the KMS qouta per seconnd You can request a qouta increase usinng the service qoutas console S3 Performacce Multipart upload recomeded for files &gt; 100MB, must use for files &gt; 5GB can help parallelized uploads (speed up transfers) S3 Trasfer Acceleration Increase transfer speed by transferring file to an AWS edge location which will forward the data to the S3 bucket i thhe target region Compatible with multi-part upload S3 Performace - S3 Byte Rage Fetches Parallelize GETs by requesting specificc byte rages Better resiliece in case of failures S3 Select &amp; Glacier Select Retrieve less data using SQL by performing server side filterig Ca filter by rows &amp; columns (simple SQL statemennnts) Less network transfer, less CPU cost client-side S3 Evet ootifications S3:ObjecctCreated, S3:ObjectRemoved, S3:ObjectRestore, S3:Replication… Object name filterig possible (*.jpg) Use case: geerate thumbnails of images uploaded to S3 Can create as many “S3 events” as desired S3 evet notifications typically deliver evennts i seconnds but ca sometimes take a minute or logger S3 Evennt Notifications with Amazon EvenntBridge Adanced filterig options with JSON rules (metadata, object size, name…) Multiple Destiations - ex Step Fuctios, Kinesis Stream/ Firehose… EvenntBrdge CApabilities - Archive, Replay Evet, Reliable delivery S3 - Requester Pays Ingeeral, bucket owners pay for all Amazon S3 storage ad data trasfer ccosts assocciatted with their bucket With Requester Pays buckets, the requester instread of the bucket owner pays the cost of the request and the data download from the bucket Helpful when you want to share large datasets with other accoounts The requester must be authenticated in AWS (cannot be anonymous) Amazon Athena Serverless query service to perform analytics against S3 objects Uses Stadard SQL language to query files Supports CSV, JSON, ORC, Avro, and Parquet (built on Presto) Pricinng: $5.00 per TB of data scanned Use compressed or ccolumnnar data for cost-savinng (less sccann) Use cases: Business intelligece / analytics / reporting, analyze &amp; query VPC Flow Logs, ELB Logs, CloudTrail trails, etc… ExamTip: aalyze data in S3 usig serverless SQL, use Athena Glaccier Vault Locck Adopt a WORM (write Once Read Many) model Lock the policy for future edits (can no loger be changed) Helpful for compliannce and data retention S3 Object Lock (versioning must be enabled) Adopt a WORM (Write Onncce Read Many) model Block an object version deletion for a specified amount of time Object retentio: Retention Period: specifies a fixed period Legal Hold: Same protecctio, no expiry date Models: Governance mode: users can’t overwrite or delete an object version or alter its lock setting unless they have special permissios Compliance mode: a protected object version ccan’t be overwrittenn or deleted by compliance mode, its retention mode ccann’t be changed, and its retetion period can’t be shortened. S3 AWS CloudFront Content Delivery etwork (CDN) Improves read perfomance, conntennnt is cached atn the edge 216 poit of presence globally (edge locations) DDOS protection, inntegration witth shield aws web application firewall Can expose external HTTPS ad cann talk to internnal HTTPS backends CloudFront - Origins S3 bucket For distributing files and cachig them at the edge Ennhaced security with CloudFrot Origi Access Identity (OAI) CloudFrot can be used as an igress (to upload files to S3) custom Origi (HTTP) Applicatio Load Balancer EC2 instance S3 website (must first enable the buccket as a stati S3 website) Any HTTP backend you want CloudFront - S3 as ann Origin Allow Public IP of edge locations Allow security group of load balancer OAI + S3 bucket policy CloudFront Geo Restriction whitelist and blacklist CloudFront vs S3 Cross Region Replication Cloudfront Global edge network Files are cacched for TTL (maybe a day) Great for static contet that must be available for everywhere S3 Cross Regio Replicatio Must be setup for eacch region you want replication to happen Files are updated i near real-time Readonly Greate for dynamic content that needs to be available at low-latency in few regions AWS CloudFront Hands On We’ll create an S3 bucket We’ll create a CloudFront distribution We’ll create an Origi Access Idetity We’ll limit the S3 bucket to be accessed only using this identity CloudFront Siged URL / Signed Cookies You want to distribute paid shared cotent to premium users over tthe world We can use CloudFront Signed URL/Cookies. We attach a policy with: Include URL expiration Include IP ranges to access the data from Trusted signers (which AWS accounts ccan create signed URLs) How long should be URL be valid for? Shared content (movie, music): make it short (a few minnutes) Private content (private to the user): you can make it last for years Signed URL = access to individual files (one signed URL per file) Signed cookies = access to multiple files (one siged cookie for may files) CloudFront Siged URL Diagram CloudFront Signed URL vs S3 Pre-Signed URL CloudFront Signed URL Allow access to a path, no matter the origin Account wide key-pair, only the root can manage it Can filter by IP, path, date, expiratio Can leverage caching features S3 Pre- Signed URL Issues a request as the person who pre-signed the URL Uses the IAM key of the signing IAM pricipal Limited lifetime CloudFront Pricce class Price class: All, 200, 100 CloudFront Origin Based on path pattern: • /images/* • /api/* • /* Origin group: high availability and do failover CloudFront – Field Level Encryption protected user sensitive iformation through application stack, HTTPS, asymmetric encryption Adds an additional layer of security along with HTTPS Usage: Specify set of fields in POST requests that you want to be encrypted (up to 10 fields) • Specify the public key to encrypt them AWS Global Accelerator Anycast IP: all servers hold the same IP address and the client is routed to the nearest one Unicast IP: one server holds one IP address Leverage the AWS internal etwork to route to your applicatio 2 anycast IP are created for your application. The anycast IP send traffic directly to edge locations. The Edge locations send traffic to your application Performance Intelligent routing to lower latecy any fast regional failover No issue with client cache Interal AWS network Health Checcks Global Acccelerator performs a health check Help make your appliccationn global (failover lesstha 1 mintes) Great for disater recovery Security Only 2 external IP need to be whhitelisted DDos protectio thanks to AWS shield AWS Global Accelerator vs CloudFront They both use the AWS global nnetwork and its edge locations around the workld Both services inntegrate with AWS Shiled for DDos protectionn CloutFront Improves performance for both cache able content (such as images and video) Dynamic content (such as API acceleratio and dynamic site delivery) Content is served at the edge Global Accelerator Improves performance for a wide range of application over TCP and UDP Proxying packes at the edge to applications running in one or more AWS regions Good fit for non-HTTP use cases as gaming (UDP), IoT (MQTT), or Voice over IP Good for HTTP use cases that require static IP address Good for HTTP use cases that required determistic fast regional failover AWS Snow Family Highly - secure, portable devices to collect and process data at the edge, and migrate data into and out to AWS Data migration: snowcone, snowballedge, snowmobile Edge computing: snowcone, snowball edge Data migrations with AWS snow Family High speeds: 100mbs, 1Gbs, 10Gbs Limited connectivity Limited bandwidth High network cost Shared bandwidth Connection stability offline, more than one week Snowball Edge Physical data transport solution: move Tbs, Pbs of data in or out AWS Pay network fees, pay per data transfer job 80TB of HDD capacity for block volume and S3 compatible object storage(storage) 42TB of HDD capacity for block volume and S3 compaitible object storage(compute) up to 10 nodes Use cases: large data cloud migrations, DC deccommisions, disaster recovery AWS snowcore small, portable computing, anywhere, regged &amp; secure, withstands harsh environments Light (4.5 pounds, 2.1 Kg) Device used for edge omputing, storage and data transfer 8Tbs usable storage Use Snowcore when snowball does not fit(space costrained environment) Must provide your own battery / cables Can be sent back to AWS offline, or connect it to internet and use AWS DataSync to send data AWS snowmobile Transfer exabytes of data Each snowmobile has 100PB of capacity High security: temperature control, GPS, 24/7 video surveillance Better than snowball if you transfer more than 10 PB Usage Process request snowball devices from the AWS console for delivery Install the snowball client / AWS OpsHub on your servers Connect the snowball to your servers and copy files using servers Ship back the device when you’re done (goes to the right AWS facility) Data will loaded into an S3 bucket Snowball is completely wiped What is Edge computing Process data while it’s being created, on an edge location These locations may have Limited / no internet access Limited / no easy access to computing power We setup a Snowball Edge / Snowcone device to do edge computing Use case of edge computing Preprocess data Machine learning at the edge Transcoding media streams Eventually (if need be) we can ship back the device to AWS (for transfering data) Snow family - edge computing Snowcone(smaller) 2 CPUs, 4 GB of memory, wired or wireless access • USB-C power using a cord or the optional battery Snowball Edge - Compute opimized 52 vCPUs, 208 GiB of RAM. Optional GPU (useful for video processing or machine learning) • 42TBusablestorage Snowball Edge - Storage Optimized Up to 40 vCPUs,80 GiB of RAM. Object storage clustering available All: can run EC2 instances &amp; AWS Lamba functios (using AWS IoT Greengrass) Long-term deployment options: 1 and 3 years discounted pricing AWS OpsHub Historical to use Snow family devices, you needed a CLI (Command Line Interface tool) Today, you can use AWS OpsHub (a software you install onn your computer latop) to manage your snow family device unlocking and configured single or cluster devices transfering and managig instances runninng on Snow Family devices Launcing and managinng isntannces runnnig on Snow family Devices Monitor devie mmetrics (storage capacity, active isntancces on your device) Launch compatible AWS services on your devices Snowball to Glacier Snow cannot import to Glacier directly You must use Amazone S3 first, in combination with an S3 life cycle policy Amazonne FsX - Overview Launch 3rd party high-performance file systems on AWS Fully managed service FSx for Lustre FSx for windows file server FSx for Netapp ontap Amazon Fsx for windows (file server) EFS is a shared POSIX system for linux systems. FSX for windows is a fully managed widoes file system shared drive Supports SMB protocol &amp; windoes NTFS Microsoft active directory intefratio ACLS user qoutas Can be nmounted o Linux EC2 instances Scale up to 10s of GB/s, milios IOPS, 100s PB of data Storage options: SSD: latency sensitive workloads (database, media proccessing data analytics, ,,,) HDD: broad spectrum of workloads (home directory, CMS, …) Can be accessed from your o-premises infrastrucure Cann be configured to be Multi-AZ Data is backed up daily to S3 Amazon FSx for Lustre (High performance computing) Lustre is a type of parallel distributted file system, for large scale computing The name Lustre is derived from “linux” and “cluster” Machine learning, high performance computing (HPC) Video processing, financial modeling, electronic design automation Scale up to 100s GB/s, milions of IOPS, sub-ms latencies Storage Options: SSD: low-latency, IOPS intensive workloads, small &amp; random file operations HDD: throughput-intensive workloads, large &amp; sequential file operations Seamless integration with S3 Can “read” S3 as file system (through FSx) Can “write” the output of the computatioos back to S3(through FSx) Can be used fron on-premises serves (VPN or Direct Connect) FSx File System deployment options Scratch File system Temporary storage Data is not replicated (doesn’t persit if file server fails) High burst (6x faster, 200MBs per TiB) Usage short-term processing, optimize costs Persistent File System Long term storage Data is replicated within same AZ Replace failed files within minutes Usage: long term processing, sensitive data Hybrid Cloud for Storage AWS is pushing for “hybrid cloud” Part of your infrstruccture is on the cloud Part of your infrastructure is on-premises This can be due to Long cloud migrations Security requirements CCCompiliance requirements It Stragegy S3 is a proprietary storage technology (uunlike EFS, NFS), so how do you expose the S3 data on premises AWS Storage gateway! Cloud Storage Cloud Native Options Block: EBS, ECS instance store File: Amazon EFS, Amazon FsX Object: S3, Glacier Storage Gateway Bridge between on-premise data and cloud data in S3 Use cases: disater reovery, backup &amp; restore, tiered storage 3 types of storage gateway File Gateway Volume Gateway Tape Gateway File Gateway Configured S3 bucckket are accessible using the NFS and SMB protocol Supports S3 standard, S3 IA, S3 One Zoe IA Buckket acess using IAM roles for each file Gateway Most recently used data is cached in the file Gateway Can be mounted on many servers Inntegrated with Active Direcctory (AD) for user authentication Volume Gateway Block storage using iSCSI protocol backed by S3 Backed by EBS snapshots which can help restore on-premises volumes! Cached volumes: low latency acess to most recent data Stored volumes: entire dataset is on premise, scheduled backups to S3 Tape Gateway Some companies have backup processes using physical tapes (!) With Tape Library (VTL) backed by Amazon S3 and Glacier Tape Gateway, compaies use same process but in the cloud Backup data using existing tape-based processes (annd iSCSI interface) Works witth leading backup software vendors Storage Gateway - Hardware appliance Using Storage Gateway means you need on-premises virtualization Otherwise, you can use a Storage Gateway Hardware Appliancce You can buy it o amazon.com Works with File Gateway Colume Gatewaym TapeGateway Helpful for daily NFS backups in small data centers AWS Storage Gateway Summary Exam tip: Read the question well, it will hinnt at which gateway to use On-premises data to the cloud =&gt; Storage Gateway File access / NFS - user auth with Active Directory =&gt; File Gateway (S3) Volume / Block Storage / iSCSI =&gt; Volume gateway (backed by EBS snapshots) VTL Tape solution / backup with iSCSI =&gt; Tape Gateway (backed by S3 and Glacier) No on-premises virtualization =&gt; Hardware appliance Amazon FSx File Gateway Native access to Amazon FSx for Windows File Server Local cache for frequenncy accessed data Windows nnative compatibility (SMB, NTFS, Active Directory…) Useful for group file shares and home directories AWS Trannsfer Family A fully-mannaged service for file transfer into annd out of amazon S3 or Amazon EFS using the FTP protocol Supported Protools AWS Transfer for FTP FTPS SFTP Managed infrastucture, Scalable, Reliable, Highly Avaiable (multi AZ) Pay per provisioned endpoint per hour + data transfer in GB Store and manage user’s credentials within the service Integrate with existing authenticattion systems (Microsoft Active Directory, LDAP, Okta, Amazon Cognito, custtom) Usage: Sharing files, public datasets, CRM, ERP, … Storage Comparison S3: Object Storage Glacier: Object Archival EFS: Network file system for linux instances, POSIX filesystem FSx for Windows: Netwoork file system for windows servers FSx for Lustre: High performance computing linuxx file system EBS volumes: Network Storage for one EC2 instance at a time Instance Storage: Physiccal storage for your EC2 instance (hhigh IOPS) Storage Gateway: File Gateway, Volume Gateway (cache &amp; stored), Tape Gateway Snowball/snowmobile: to move large amount of data to theh cloud, physically Database: for specific workloads, ussually with indexxing and querying" />
<meta property="og:description" content="Advannce S3 S3 MFA Delete MFA (mutil factor authentication) forces uses to genenrate a code in a device (usually a mobile phone or hardware) before doing important operation on S3 To use MFA-Delete, enable versioninng on the S3 bucket You will eed MFA to permanetly delete ann object versio susped versioing on the bucket You won’t need MFA for enabling versionnig listing deleted versions Only the bucket owner (root account) can eable/disab;e MFA delete MFA-Delete currently can only enabled using CLI S3 Default Encryption vs Bucket Policies One way tp “force encryption” is to use a bucket policy ad refuse any API ccall to PUT a S3 object without encryption headers: Another way is to use the “default ecryption” option in S3 Note: Bucket Policies are evaluated before “default encryption” S3 Access Logs For audit purpose, you may want to log all access to S3 buckets Any request made to S3, from any accout, authorized or denied, will be logged into aother S3 bucket That data can be analyzed using data analysis tools… Or Amazon Athena as we’ll see later i this secction S3 Access Logs: Warning Do not set your logging bucket to be the monitored bucket It will create a logging loop, and your bucket will grow in size exponetially S3 Replication (CRR &amp; SRR) Must enable versioing in source and destiation Cross Region Repliccationn (CRR) Same Region Replication (SRR) Buckets ca be in different accounts copying is asynchronous Must give proper IAM permissions to S3 CRR - Use cases: compliancce, lower latency access, replicatio across acccounts SRR - Use ccases: log aggregatio, live replication between production annd test accounnts S3 Replication - Notes After activating, onnly new objects are replicated Optioally, you can replicate existing objects usig S3 batch replication Replicates existing objects and objects that failed replication For DELETE operationns: Can replicate delete markers from source to target (optional settinng) Deleteions with a version ID are not replicated (to avoid malicious deletes) There is no “chaining” of replication If bucket I replcatio into bicket 2, which has replication into bucket 3 Then object create inn bucket I are not replicated to bucket 3 S3 Pre-Signed URLs Cann generate pre-signed URLs using SDK or CLI For downloads (easy, can use the CLI) For uploads (harder, must use the SDK) Valid for a default of 3600 secods, can change timeout with –expireds-in [TIME_BY_SECONDS] argument Users given a pre-signed URL innherit the permissions of the perso who gennerated the Url for GET / PUT Examples: Allow only logged-in users to download a premium video on your S3 bucket Allow a ever changing list of users to download files by generatig URLs dynnamically Allow temporarily a user to upload a file to a precise loccation in our bucket S3 Storage Classes Amazon S3 Standard - Genneral Purpose Amazon S3 Stadard-ifrequent Access(IA) Amazon S3 One Zone-Infrequent Access Amazon S3 Glacier Instant Retrieval Amazon S3 Glacier Flexible Retrieval Amazo S3 Glacier Deep Archive Amazon S3 Intelligent Tierinng Can move betwee classes maually or using S3 lifecycle cofigurations S3 Durability and Availability Durability High durability (99,999999999%   9’s) of objects across multiple AZ If you store 10.000.000 objects with Amazon S3, you ccan on average expect to incur a loss of a single object once every 10.000 years Same for all storage classes Availability Measures how readily available a service is Varies depedig o storage class Example: S3 standard has 99.99% availability = not avaiable 53 minutes a year S3 Standard - General Purpose 99.99% Availability Used for frequently accessed data Low latenccy annd high throughput Sustai 2 concurennt faccility failures Use CAses: Big Data analytics, mobile &amp; gaming appliccations, conntet distribution… S3 Storage Classes - Innfrequent Access For data that is less frequently accessed, but requires rapid access when needed Lower cost than S3 Standard Amazon S3 Standard- Ifreqeunt Access (S3 Standard-IA) 99.9% Availability Use cases: Disaster recovery, backups Amazon S3 Oe Zonne-Infrequet Acccess (S3 One Zone-IA) High durability (99.999999999%) in a sigle AZ; data lost when AZ is destroyed 99.5% Availability Use Cases: Storing secodary backup copies of on-premises data, or data you cann recreate Amazo S3 Glacier Storage Classes Low cost objecct storage meant for archving / backup Pricing: pricce for storage + object retrieval cost Amazon S3 Glacier Instant Retrieval Milisecond retrieval, greate for data accessed once a quarter Minimum storage duration of 90 days Amazon S3 Glacier Fexible Retrieval (formerly Amazon S3 Glacier): Expedited (1 to 5 minutes), Standard (3-5 hours), Bulk (5-12 hours)- free Amazon S3 Glaccier Deep Archive - for long term storage Standard (12 hours), Bulk (48 hours) Minimum storage duration of 180 days S3 Intelliget-Tiering Small mothly moitorig ad auto tierig fee Moves objects automatically between Acccess Tiers based on usage There are o retrieval charges i S3 Itelliget-Tierig Frequet Access tier (automatic): default tier ifrequet Access tier (automatic): objet ot accessd for 30days Archive Istant Access tier (automatic): object ot accessed for 90days Archive Access tier (optioal): configuratio from 90 days to 700+ days Deep Arcchive Access tier (optionnal): ccofig, from 180 days to 700+ days S3 - Moving between storage classes You can transition objeccts betwee storage classes For infrequently accessed objecct, move them to STADARD_IA For arcchive objects you don’t need in real-time, GLACIER or DEEP_ARCHIVE Moving objects can be automated using a lifecycle configuration S3 Lifecycle rules Transition actions: It defines whe objects are transitioned to aother storage class Move objects to Standard IA class 60 days after creatio Move to Glacier for archiving after 6 months Expiration actions: configure objects to expire (delete) after some time Access log files can be set to delete after a 365 days Can be used to delete old versions of files (if versioning is enabled) Rules can be created for a certai prefix (ex- s3://mybucket/mp3/*) Rules can be created for certain object tags (ex: Departmet Fiancer) S3 Lifecycle Rules - Sceario I Your applicationn o Ec2 creates images thuhmbails after profile photos are uploaded to Amazon S3. These thumbails can be easily recreated, ad only need to kept for 45 days. The source images should be able to be immediately retrieved for these 45 days, and afterwards, the user can wait up to 6 hours. How would you desig this? S3 source images can be on STADARD, with a lifecycle configuration to transitionn them to GLACCIER after 45 days. S3 thumbnails cann ben o OEZOE_IA, with a lifecycle configurationn to expire them (delete them) after 45 days.es S3 Lifecyccle Rules - Scennario 2 A rule in your company stated that you should be able to recover your deleted S3 objects immediatedly for 15days, although this happen rarely. after this time, and for up to 365 days, deleted objects should be recoverable within 48 hours. You need to enable S3 versioning in order to have objecct versions, so thhat “deleted objects” are in fact hidden by a “delete marker” ad ccan be recored You can transition these “ocurrent versions” of the object to S3_IA You can transition afterwards these “noncurrent versios” to DEEP_ARCHIVE S3 Analyticcs - Storage class analysis You can setup S3 Abakytics too help determine wheh to trannsition objects from Stadard to Standard_IA Does ot work for ONNCCEZONE_IA or GLACIER Report is updated daily Takes about 24h to 48h hours to first start Good first step to put together lifecycle rules (or improve them)! S3 Baseline Performace Amazon S3 automatically scales to high request rates, latecy 100-200 ms Your applicationnn ccan achieve at lease 3500 PUT/COPY/POST/DELETE and 5500 GET/HEAD request per secod per prefix in a bucket. There are o limits to the number of prefixes in a bucket Example (object path -&gt; prefix): bucket/folder1/sub/file =&gt; /folder1/sub1/ If you spread read across all four prefixes evenly, you can achieve 22000 requests per second for GET and HEAD S3 KMS Limitatio If you use SSE-KMS, you may be impacted by the KMS limits When you upload, it calls the GenerateDataKey KMS API When you download, it calls the Deccrypt KMS API Cout towards the KMS qouta per seconnd You can request a qouta increase usinng the service qoutas console S3 Performacce Multipart upload recomeded for files &gt; 100MB, must use for files &gt; 5GB can help parallelized uploads (speed up transfers) S3 Trasfer Acceleration Increase transfer speed by transferring file to an AWS edge location which will forward the data to the S3 bucket i thhe target region Compatible with multi-part upload S3 Performace - S3 Byte Rage Fetches Parallelize GETs by requesting specificc byte rages Better resiliece in case of failures S3 Select &amp; Glacier Select Retrieve less data using SQL by performing server side filterig Ca filter by rows &amp; columns (simple SQL statemennnts) Less network transfer, less CPU cost client-side S3 Evet ootifications S3:ObjecctCreated, S3:ObjectRemoved, S3:ObjectRestore, S3:Replication… Object name filterig possible (*.jpg) Use case: geerate thumbnails of images uploaded to S3 Can create as many “S3 events” as desired S3 evet notifications typically deliver evennts i seconnds but ca sometimes take a minute or logger S3 Evennt Notifications with Amazon EvenntBridge Adanced filterig options with JSON rules (metadata, object size, name…) Multiple Destiations - ex Step Fuctios, Kinesis Stream/ Firehose… EvenntBrdge CApabilities - Archive, Replay Evet, Reliable delivery S3 - Requester Pays Ingeeral, bucket owners pay for all Amazon S3 storage ad data trasfer ccosts assocciatted with their bucket With Requester Pays buckets, the requester instread of the bucket owner pays the cost of the request and the data download from the bucket Helpful when you want to share large datasets with other accoounts The requester must be authenticated in AWS (cannot be anonymous) Amazon Athena Serverless query service to perform analytics against S3 objects Uses Stadard SQL language to query files Supports CSV, JSON, ORC, Avro, and Parquet (built on Presto) Pricinng: $5.00 per TB of data scanned Use compressed or ccolumnnar data for cost-savinng (less sccann) Use cases: Business intelligece / analytics / reporting, analyze &amp; query VPC Flow Logs, ELB Logs, CloudTrail trails, etc… ExamTip: aalyze data in S3 usig serverless SQL, use Athena Glaccier Vault Locck Adopt a WORM (write Once Read Many) model Lock the policy for future edits (can no loger be changed) Helpful for compliannce and data retention S3 Object Lock (versioning must be enabled) Adopt a WORM (Write Onncce Read Many) model Block an object version deletion for a specified amount of time Object retentio: Retention Period: specifies a fixed period Legal Hold: Same protecctio, no expiry date Models: Governance mode: users can’t overwrite or delete an object version or alter its lock setting unless they have special permissios Compliance mode: a protected object version ccan’t be overwrittenn or deleted by compliance mode, its retention mode ccann’t be changed, and its retetion period can’t be shortened. S3 AWS CloudFront Content Delivery etwork (CDN) Improves read perfomance, conntennnt is cached atn the edge 216 poit of presence globally (edge locations) DDOS protection, inntegration witth shield aws web application firewall Can expose external HTTPS ad cann talk to internnal HTTPS backends CloudFront - Origins S3 bucket For distributing files and cachig them at the edge Ennhaced security with CloudFrot Origi Access Identity (OAI) CloudFrot can be used as an igress (to upload files to S3) custom Origi (HTTP) Applicatio Load Balancer EC2 instance S3 website (must first enable the buccket as a stati S3 website) Any HTTP backend you want CloudFront - S3 as ann Origin Allow Public IP of edge locations Allow security group of load balancer OAI + S3 bucket policy CloudFront Geo Restriction whitelist and blacklist CloudFront vs S3 Cross Region Replication Cloudfront Global edge network Files are cacched for TTL (maybe a day) Great for static contet that must be available for everywhere S3 Cross Regio Replicatio Must be setup for eacch region you want replication to happen Files are updated i near real-time Readonly Greate for dynamic content that needs to be available at low-latency in few regions AWS CloudFront Hands On We’ll create an S3 bucket We’ll create a CloudFront distribution We’ll create an Origi Access Idetity We’ll limit the S3 bucket to be accessed only using this identity CloudFront Siged URL / Signed Cookies You want to distribute paid shared cotent to premium users over tthe world We can use CloudFront Signed URL/Cookies. We attach a policy with: Include URL expiration Include IP ranges to access the data from Trusted signers (which AWS accounts ccan create signed URLs) How long should be URL be valid for? Shared content (movie, music): make it short (a few minnutes) Private content (private to the user): you can make it last for years Signed URL = access to individual files (one signed URL per file) Signed cookies = access to multiple files (one siged cookie for may files) CloudFront Siged URL Diagram CloudFront Signed URL vs S3 Pre-Signed URL CloudFront Signed URL Allow access to a path, no matter the origin Account wide key-pair, only the root can manage it Can filter by IP, path, date, expiratio Can leverage caching features S3 Pre- Signed URL Issues a request as the person who pre-signed the URL Uses the IAM key of the signing IAM pricipal Limited lifetime CloudFront Pricce class Price class: All, 200, 100 CloudFront Origin Based on path pattern: • /images/* • /api/* • /* Origin group: high availability and do failover CloudFront – Field Level Encryption protected user sensitive iformation through application stack, HTTPS, asymmetric encryption Adds an additional layer of security along with HTTPS Usage: Specify set of fields in POST requests that you want to be encrypted (up to 10 fields) • Specify the public key to encrypt them AWS Global Accelerator Anycast IP: all servers hold the same IP address and the client is routed to the nearest one Unicast IP: one server holds one IP address Leverage the AWS internal etwork to route to your applicatio 2 anycast IP are created for your application. The anycast IP send traffic directly to edge locations. The Edge locations send traffic to your application Performance Intelligent routing to lower latecy any fast regional failover No issue with client cache Interal AWS network Health Checcks Global Acccelerator performs a health check Help make your appliccationn global (failover lesstha 1 mintes) Great for disater recovery Security Only 2 external IP need to be whhitelisted DDos protectio thanks to AWS shield AWS Global Accelerator vs CloudFront They both use the AWS global nnetwork and its edge locations around the workld Both services inntegrate with AWS Shiled for DDos protectionn CloutFront Improves performance for both cache able content (such as images and video) Dynamic content (such as API acceleratio and dynamic site delivery) Content is served at the edge Global Accelerator Improves performance for a wide range of application over TCP and UDP Proxying packes at the edge to applications running in one or more AWS regions Good fit for non-HTTP use cases as gaming (UDP), IoT (MQTT), or Voice over IP Good for HTTP use cases that require static IP address Good for HTTP use cases that required determistic fast regional failover AWS Snow Family Highly - secure, portable devices to collect and process data at the edge, and migrate data into and out to AWS Data migration: snowcone, snowballedge, snowmobile Edge computing: snowcone, snowball edge Data migrations with AWS snow Family High speeds: 100mbs, 1Gbs, 10Gbs Limited connectivity Limited bandwidth High network cost Shared bandwidth Connection stability offline, more than one week Snowball Edge Physical data transport solution: move Tbs, Pbs of data in or out AWS Pay network fees, pay per data transfer job 80TB of HDD capacity for block volume and S3 compatible object storage(storage) 42TB of HDD capacity for block volume and S3 compaitible object storage(compute) up to 10 nodes Use cases: large data cloud migrations, DC deccommisions, disaster recovery AWS snowcore small, portable computing, anywhere, regged &amp; secure, withstands harsh environments Light (4.5 pounds, 2.1 Kg) Device used for edge omputing, storage and data transfer 8Tbs usable storage Use Snowcore when snowball does not fit(space costrained environment) Must provide your own battery / cables Can be sent back to AWS offline, or connect it to internet and use AWS DataSync to send data AWS snowmobile Transfer exabytes of data Each snowmobile has 100PB of capacity High security: temperature control, GPS, 24/7 video surveillance Better than snowball if you transfer more than 10 PB Usage Process request snowball devices from the AWS console for delivery Install the snowball client / AWS OpsHub on your servers Connect the snowball to your servers and copy files using servers Ship back the device when you’re done (goes to the right AWS facility) Data will loaded into an S3 bucket Snowball is completely wiped What is Edge computing Process data while it’s being created, on an edge location These locations may have Limited / no internet access Limited / no easy access to computing power We setup a Snowball Edge / Snowcone device to do edge computing Use case of edge computing Preprocess data Machine learning at the edge Transcoding media streams Eventually (if need be) we can ship back the device to AWS (for transfering data) Snow family - edge computing Snowcone(smaller) 2 CPUs, 4 GB of memory, wired or wireless access • USB-C power using a cord or the optional battery Snowball Edge - Compute opimized 52 vCPUs, 208 GiB of RAM. Optional GPU (useful for video processing or machine learning) • 42TBusablestorage Snowball Edge - Storage Optimized Up to 40 vCPUs,80 GiB of RAM. Object storage clustering available All: can run EC2 instances &amp; AWS Lamba functios (using AWS IoT Greengrass) Long-term deployment options: 1 and 3 years discounted pricing AWS OpsHub Historical to use Snow family devices, you needed a CLI (Command Line Interface tool) Today, you can use AWS OpsHub (a software you install onn your computer latop) to manage your snow family device unlocking and configured single or cluster devices transfering and managig instances runninng on Snow Family devices Launcing and managinng isntannces runnnig on Snow family Devices Monitor devie mmetrics (storage capacity, active isntancces on your device) Launch compatible AWS services on your devices Snowball to Glacier Snow cannot import to Glacier directly You must use Amazone S3 first, in combination with an S3 life cycle policy Amazonne FsX - Overview Launch 3rd party high-performance file systems on AWS Fully managed service FSx for Lustre FSx for windows file server FSx for Netapp ontap Amazon Fsx for windows (file server) EFS is a shared POSIX system for linux systems. FSX for windows is a fully managed widoes file system shared drive Supports SMB protocol &amp; windoes NTFS Microsoft active directory intefratio ACLS user qoutas Can be nmounted o Linux EC2 instances Scale up to 10s of GB/s, milios IOPS, 100s PB of data Storage options: SSD: latency sensitive workloads (database, media proccessing data analytics, ,,,) HDD: broad spectrum of workloads (home directory, CMS, …) Can be accessed from your o-premises infrastrucure Cann be configured to be Multi-AZ Data is backed up daily to S3 Amazon FSx for Lustre (High performance computing) Lustre is a type of parallel distributted file system, for large scale computing The name Lustre is derived from “linux” and “cluster” Machine learning, high performance computing (HPC) Video processing, financial modeling, electronic design automation Scale up to 100s GB/s, milions of IOPS, sub-ms latencies Storage Options: SSD: low-latency, IOPS intensive workloads, small &amp; random file operations HDD: throughput-intensive workloads, large &amp; sequential file operations Seamless integration with S3 Can “read” S3 as file system (through FSx) Can “write” the output of the computatioos back to S3(through FSx) Can be used fron on-premises serves (VPN or Direct Connect) FSx File System deployment options Scratch File system Temporary storage Data is not replicated (doesn’t persit if file server fails) High burst (6x faster, 200MBs per TiB) Usage short-term processing, optimize costs Persistent File System Long term storage Data is replicated within same AZ Replace failed files within minutes Usage: long term processing, sensitive data Hybrid Cloud for Storage AWS is pushing for “hybrid cloud” Part of your infrstruccture is on the cloud Part of your infrastructure is on-premises This can be due to Long cloud migrations Security requirements CCCompiliance requirements It Stragegy S3 is a proprietary storage technology (uunlike EFS, NFS), so how do you expose the S3 data on premises AWS Storage gateway! Cloud Storage Cloud Native Options Block: EBS, ECS instance store File: Amazon EFS, Amazon FsX Object: S3, Glacier Storage Gateway Bridge between on-premise data and cloud data in S3 Use cases: disater reovery, backup &amp; restore, tiered storage 3 types of storage gateway File Gateway Volume Gateway Tape Gateway File Gateway Configured S3 bucckket are accessible using the NFS and SMB protocol Supports S3 standard, S3 IA, S3 One Zoe IA Buckket acess using IAM roles for each file Gateway Most recently used data is cached in the file Gateway Can be mounted on many servers Inntegrated with Active Direcctory (AD) for user authentication Volume Gateway Block storage using iSCSI protocol backed by S3 Backed by EBS snapshots which can help restore on-premises volumes! Cached volumes: low latency acess to most recent data Stored volumes: entire dataset is on premise, scheduled backups to S3 Tape Gateway Some companies have backup processes using physical tapes (!) With Tape Library (VTL) backed by Amazon S3 and Glacier Tape Gateway, compaies use same process but in the cloud Backup data using existing tape-based processes (annd iSCSI interface) Works witth leading backup software vendors Storage Gateway - Hardware appliance Using Storage Gateway means you need on-premises virtualization Otherwise, you can use a Storage Gateway Hardware Appliancce You can buy it o amazon.com Works with File Gateway Colume Gatewaym TapeGateway Helpful for daily NFS backups in small data centers AWS Storage Gateway Summary Exam tip: Read the question well, it will hinnt at which gateway to use On-premises data to the cloud =&gt; Storage Gateway File access / NFS - user auth with Active Directory =&gt; File Gateway (S3) Volume / Block Storage / iSCSI =&gt; Volume gateway (backed by EBS snapshots) VTL Tape solution / backup with iSCSI =&gt; Tape Gateway (backed by S3 and Glacier) No on-premises virtualization =&gt; Hardware appliance Amazon FSx File Gateway Native access to Amazon FSx for Windows File Server Local cache for frequenncy accessed data Windows nnative compatibility (SMB, NTFS, Active Directory…) Useful for group file shares and home directories AWS Trannsfer Family A fully-mannaged service for file transfer into annd out of amazon S3 or Amazon EFS using the FTP protocol Supported Protools AWS Transfer for FTP FTPS SFTP Managed infrastucture, Scalable, Reliable, Highly Avaiable (multi AZ) Pay per provisioned endpoint per hour + data transfer in GB Store and manage user’s credentials within the service Integrate with existing authenticattion systems (Microsoft Active Directory, LDAP, Okta, Amazon Cognito, custtom) Usage: Sharing files, public datasets, CRM, ERP, … Storage Comparison S3: Object Storage Glacier: Object Archival EFS: Network file system for linux instances, POSIX filesystem FSx for Windows: Netwoork file system for windows servers FSx for Lustre: High performance computing linuxx file system EBS volumes: Network Storage for one EC2 instance at a time Instance Storage: Physiccal storage for your EC2 instance (hhigh IOPS) Storage Gateway: File Gateway, Volume Gateway (cache &amp; stored), Tape Gateway Snowball/snowmobile: to move large amount of data to theh cloud, physically Database: for specific workloads, ussually with indexxing and querying" />
<link rel="canonical" href="http://localhost:4000/posts/aws-s3-and-aws-storage-gateway-services/" />
<meta property="og:url" content="http://localhost:4000/posts/aws-s3-and-aws-storage-gateway-services/" />
<meta property="og:site_name" content="Programmer From Zero To Mountaint" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-02-05T00:00:00+07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="AWS S3 and AWS Storage Gateway Services:" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="twitter:creator" content="@Hardwork đẹp trai" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Hardwork đẹp trai"},"dateModified":"2024-02-05T00:00:00+07:00","datePublished":"2024-02-05T00:00:00+07:00","description":"Advannce S3 S3 MFA Delete MFA (mutil factor authentication) forces uses to genenrate a code in a device (usually a mobile phone or hardware) before doing important operation on S3 To use MFA-Delete, enable versioninng on the S3 bucket You will eed MFA to permanetly delete ann object versio susped versioing on the bucket You won’t need MFA for enabling versionnig listing deleted versions Only the bucket owner (root account) can eable/disab;e MFA delete MFA-Delete currently can only enabled using CLI S3 Default Encryption vs Bucket Policies One way tp “force encryption” is to use a bucket policy ad refuse any API ccall to PUT a S3 object without encryption headers: Another way is to use the “default ecryption” option in S3 Note: Bucket Policies are evaluated before “default encryption” S3 Access Logs For audit purpose, you may want to log all access to S3 buckets Any request made to S3, from any accout, authorized or denied, will be logged into aother S3 bucket That data can be analyzed using data analysis tools… Or Amazon Athena as we’ll see later i this secction S3 Access Logs: Warning Do not set your logging bucket to be the monitored bucket It will create a logging loop, and your bucket will grow in size exponetially S3 Replication (CRR &amp; SRR) Must enable versioing in source and destiation Cross Region Repliccationn (CRR) Same Region Replication (SRR) Buckets ca be in different accounts copying is asynchronous Must give proper IAM permissions to S3 CRR - Use cases: compliancce, lower latency access, replicatio across acccounts SRR - Use ccases: log aggregatio, live replication between production annd test accounnts S3 Replication - Notes After activating, onnly new objects are replicated Optioally, you can replicate existing objects usig S3 batch replication Replicates existing objects and objects that failed replication For DELETE operationns: Can replicate delete markers from source to target (optional settinng) Deleteions with a version ID are not replicated (to avoid malicious deletes) There is no “chaining” of replication If bucket I replcatio into bicket 2, which has replication into bucket 3 Then object create inn bucket I are not replicated to bucket 3 S3 Pre-Signed URLs Cann generate pre-signed URLs using SDK or CLI For downloads (easy, can use the CLI) For uploads (harder, must use the SDK) Valid for a default of 3600 secods, can change timeout with –expireds-in [TIME_BY_SECONDS] argument Users given a pre-signed URL innherit the permissions of the perso who gennerated the Url for GET / PUT Examples: Allow only logged-in users to download a premium video on your S3 bucket Allow a ever changing list of users to download files by generatig URLs dynnamically Allow temporarily a user to upload a file to a precise loccation in our bucket S3 Storage Classes Amazon S3 Standard - Genneral Purpose Amazon S3 Stadard-ifrequent Access(IA) Amazon S3 One Zone-Infrequent Access Amazon S3 Glacier Instant Retrieval Amazon S3 Glacier Flexible Retrieval Amazo S3 Glacier Deep Archive Amazon S3 Intelligent Tierinng Can move betwee classes maually or using S3 lifecycle cofigurations S3 Durability and Availability Durability High durability (99,999999999%   9’s) of objects across multiple AZ If you store 10.000.000 objects with Amazon S3, you ccan on average expect to incur a loss of a single object once every 10.000 years Same for all storage classes Availability Measures how readily available a service is Varies depedig o storage class Example: S3 standard has 99.99% availability = not avaiable 53 minutes a year S3 Standard - General Purpose 99.99% Availability Used for frequently accessed data Low latenccy annd high throughput Sustai 2 concurennt faccility failures Use CAses: Big Data analytics, mobile &amp; gaming appliccations, conntet distribution… S3 Storage Classes - Innfrequent Access For data that is less frequently accessed, but requires rapid access when needed Lower cost than S3 Standard Amazon S3 Standard- Ifreqeunt Access (S3 Standard-IA) 99.9% Availability Use cases: Disaster recovery, backups Amazon S3 Oe Zonne-Infrequet Acccess (S3 One Zone-IA) High durability (99.999999999%) in a sigle AZ; data lost when AZ is destroyed 99.5% Availability Use Cases: Storing secodary backup copies of on-premises data, or data you cann recreate Amazo S3 Glacier Storage Classes Low cost objecct storage meant for archving / backup Pricing: pricce for storage + object retrieval cost Amazon S3 Glacier Instant Retrieval Milisecond retrieval, greate for data accessed once a quarter Minimum storage duration of 90 days Amazon S3 Glacier Fexible Retrieval (formerly Amazon S3 Glacier): Expedited (1 to 5 minutes), Standard (3-5 hours), Bulk (5-12 hours)- free Amazon S3 Glaccier Deep Archive - for long term storage Standard (12 hours), Bulk (48 hours) Minimum storage duration of 180 days S3 Intelliget-Tiering Small mothly moitorig ad auto tierig fee Moves objects automatically between Acccess Tiers based on usage There are o retrieval charges i S3 Itelliget-Tierig Frequet Access tier (automatic): default tier ifrequet Access tier (automatic): objet ot accessd for 30days Archive Istant Access tier (automatic): object ot accessed for 90days Archive Access tier (optioal): configuratio from 90 days to 700+ days Deep Arcchive Access tier (optionnal): ccofig, from 180 days to 700+ days S3 - Moving between storage classes You can transition objeccts betwee storage classes For infrequently accessed objecct, move them to STADARD_IA For arcchive objects you don’t need in real-time, GLACIER or DEEP_ARCHIVE Moving objects can be automated using a lifecycle configuration S3 Lifecycle rules Transition actions: It defines whe objects are transitioned to aother storage class Move objects to Standard IA class 60 days after creatio Move to Glacier for archiving after 6 months Expiration actions: configure objects to expire (delete) after some time Access log files can be set to delete after a 365 days Can be used to delete old versions of files (if versioning is enabled) Rules can be created for a certai prefix (ex- s3://mybucket/mp3/*) Rules can be created for certain object tags (ex: Departmet Fiancer) S3 Lifecycle Rules - Sceario I Your applicationn o Ec2 creates images thuhmbails after profile photos are uploaded to Amazon S3. These thumbails can be easily recreated, ad only need to kept for 45 days. The source images should be able to be immediately retrieved for these 45 days, and afterwards, the user can wait up to 6 hours. How would you desig this? S3 source images can be on STADARD, with a lifecycle configuration to transitionn them to GLACCIER after 45 days. S3 thumbnails cann ben o OEZOE_IA, with a lifecycle configurationn to expire them (delete them) after 45 days.es S3 Lifecyccle Rules - Scennario 2 A rule in your company stated that you should be able to recover your deleted S3 objects immediatedly for 15days, although this happen rarely. after this time, and for up to 365 days, deleted objects should be recoverable within 48 hours. You need to enable S3 versioning in order to have objecct versions, so thhat “deleted objects” are in fact hidden by a “delete marker” ad ccan be recored You can transition these “ocurrent versions” of the object to S3_IA You can transition afterwards these “noncurrent versios” to DEEP_ARCHIVE S3 Analyticcs - Storage class analysis You can setup S3 Abakytics too help determine wheh to trannsition objects from Stadard to Standard_IA Does ot work for ONNCCEZONE_IA or GLACIER Report is updated daily Takes about 24h to 48h hours to first start Good first step to put together lifecycle rules (or improve them)! S3 Baseline Performace Amazon S3 automatically scales to high request rates, latecy 100-200 ms Your applicationnn ccan achieve at lease 3500 PUT/COPY/POST/DELETE and 5500 GET/HEAD request per secod per prefix in a bucket. There are o limits to the number of prefixes in a bucket Example (object path -&gt; prefix): bucket/folder1/sub/file =&gt; /folder1/sub1/ If you spread read across all four prefixes evenly, you can achieve 22000 requests per second for GET and HEAD S3 KMS Limitatio If you use SSE-KMS, you may be impacted by the KMS limits When you upload, it calls the GenerateDataKey KMS API When you download, it calls the Deccrypt KMS API Cout towards the KMS qouta per seconnd You can request a qouta increase usinng the service qoutas console S3 Performacce Multipart upload recomeded for files &gt; 100MB, must use for files &gt; 5GB can help parallelized uploads (speed up transfers) S3 Trasfer Acceleration Increase transfer speed by transferring file to an AWS edge location which will forward the data to the S3 bucket i thhe target region Compatible with multi-part upload S3 Performace - S3 Byte Rage Fetches Parallelize GETs by requesting specificc byte rages Better resiliece in case of failures S3 Select &amp; Glacier Select Retrieve less data using SQL by performing server side filterig Ca filter by rows &amp; columns (simple SQL statemennnts) Less network transfer, less CPU cost client-side S3 Evet ootifications S3:ObjecctCreated, S3:ObjectRemoved, S3:ObjectRestore, S3:Replication… Object name filterig possible (*.jpg) Use case: geerate thumbnails of images uploaded to S3 Can create as many “S3 events” as desired S3 evet notifications typically deliver evennts i seconnds but ca sometimes take a minute or logger S3 Evennt Notifications with Amazon EvenntBridge Adanced filterig options with JSON rules (metadata, object size, name…) Multiple Destiations - ex Step Fuctios, Kinesis Stream/ Firehose… EvenntBrdge CApabilities - Archive, Replay Evet, Reliable delivery S3 - Requester Pays Ingeeral, bucket owners pay for all Amazon S3 storage ad data trasfer ccosts assocciatted with their bucket With Requester Pays buckets, the requester instread of the bucket owner pays the cost of the request and the data download from the bucket Helpful when you want to share large datasets with other accoounts The requester must be authenticated in AWS (cannot be anonymous) Amazon Athena Serverless query service to perform analytics against S3 objects Uses Stadard SQL language to query files Supports CSV, JSON, ORC, Avro, and Parquet (built on Presto) Pricinng: $5.00 per TB of data scanned Use compressed or ccolumnnar data for cost-savinng (less sccann) Use cases: Business intelligece / analytics / reporting, analyze &amp; query VPC Flow Logs, ELB Logs, CloudTrail trails, etc… ExamTip: aalyze data in S3 usig serverless SQL, use Athena Glaccier Vault Locck Adopt a WORM (write Once Read Many) model Lock the policy for future edits (can no loger be changed) Helpful for compliannce and data retention S3 Object Lock (versioning must be enabled) Adopt a WORM (Write Onncce Read Many) model Block an object version deletion for a specified amount of time Object retentio: Retention Period: specifies a fixed period Legal Hold: Same protecctio, no expiry date Models: Governance mode: users can’t overwrite or delete an object version or alter its lock setting unless they have special permissios Compliance mode: a protected object version ccan’t be overwrittenn or deleted by compliance mode, its retention mode ccann’t be changed, and its retetion period can’t be shortened. S3 AWS CloudFront Content Delivery etwork (CDN) Improves read perfomance, conntennnt is cached atn the edge 216 poit of presence globally (edge locations) DDOS protection, inntegration witth shield aws web application firewall Can expose external HTTPS ad cann talk to internnal HTTPS backends CloudFront - Origins S3 bucket For distributing files and cachig them at the edge Ennhaced security with CloudFrot Origi Access Identity (OAI) CloudFrot can be used as an igress (to upload files to S3) custom Origi (HTTP) Applicatio Load Balancer EC2 instance S3 website (must first enable the buccket as a stati S3 website) Any HTTP backend you want CloudFront - S3 as ann Origin Allow Public IP of edge locations Allow security group of load balancer OAI + S3 bucket policy CloudFront Geo Restriction whitelist and blacklist CloudFront vs S3 Cross Region Replication Cloudfront Global edge network Files are cacched for TTL (maybe a day) Great for static contet that must be available for everywhere S3 Cross Regio Replicatio Must be setup for eacch region you want replication to happen Files are updated i near real-time Readonly Greate for dynamic content that needs to be available at low-latency in few regions AWS CloudFront Hands On We’ll create an S3 bucket We’ll create a CloudFront distribution We’ll create an Origi Access Idetity We’ll limit the S3 bucket to be accessed only using this identity CloudFront Siged URL / Signed Cookies You want to distribute paid shared cotent to premium users over tthe world We can use CloudFront Signed URL/Cookies. We attach a policy with: Include URL expiration Include IP ranges to access the data from Trusted signers (which AWS accounts ccan create signed URLs) How long should be URL be valid for? Shared content (movie, music): make it short (a few minnutes) Private content (private to the user): you can make it last for years Signed URL = access to individual files (one signed URL per file) Signed cookies = access to multiple files (one siged cookie for may files) CloudFront Siged URL Diagram CloudFront Signed URL vs S3 Pre-Signed URL CloudFront Signed URL Allow access to a path, no matter the origin Account wide key-pair, only the root can manage it Can filter by IP, path, date, expiratio Can leverage caching features S3 Pre- Signed URL Issues a request as the person who pre-signed the URL Uses the IAM key of the signing IAM pricipal Limited lifetime CloudFront Pricce class Price class: All, 200, 100 CloudFront Origin Based on path pattern: • /images/* • /api/* • /* Origin group: high availability and do failover CloudFront – Field Level Encryption protected user sensitive iformation through application stack, HTTPS, asymmetric encryption Adds an additional layer of security along with HTTPS Usage: Specify set of fields in POST requests that you want to be encrypted (up to 10 fields) • Specify the public key to encrypt them AWS Global Accelerator Anycast IP: all servers hold the same IP address and the client is routed to the nearest one Unicast IP: one server holds one IP address Leverage the AWS internal etwork to route to your applicatio 2 anycast IP are created for your application. The anycast IP send traffic directly to edge locations. The Edge locations send traffic to your application Performance Intelligent routing to lower latecy any fast regional failover No issue with client cache Interal AWS network Health Checcks Global Acccelerator performs a health check Help make your appliccationn global (failover lesstha 1 mintes) Great for disater recovery Security Only 2 external IP need to be whhitelisted DDos protectio thanks to AWS shield AWS Global Accelerator vs CloudFront They both use the AWS global nnetwork and its edge locations around the workld Both services inntegrate with AWS Shiled for DDos protectionn CloutFront Improves performance for both cache able content (such as images and video) Dynamic content (such as API acceleratio and dynamic site delivery) Content is served at the edge Global Accelerator Improves performance for a wide range of application over TCP and UDP Proxying packes at the edge to applications running in one or more AWS regions Good fit for non-HTTP use cases as gaming (UDP), IoT (MQTT), or Voice over IP Good for HTTP use cases that require static IP address Good for HTTP use cases that required determistic fast regional failover AWS Snow Family Highly - secure, portable devices to collect and process data at the edge, and migrate data into and out to AWS Data migration: snowcone, snowballedge, snowmobile Edge computing: snowcone, snowball edge Data migrations with AWS snow Family High speeds: 100mbs, 1Gbs, 10Gbs Limited connectivity Limited bandwidth High network cost Shared bandwidth Connection stability offline, more than one week Snowball Edge Physical data transport solution: move Tbs, Pbs of data in or out AWS Pay network fees, pay per data transfer job 80TB of HDD capacity for block volume and S3 compatible object storage(storage) 42TB of HDD capacity for block volume and S3 compaitible object storage(compute) up to 10 nodes Use cases: large data cloud migrations, DC deccommisions, disaster recovery AWS snowcore small, portable computing, anywhere, regged &amp; secure, withstands harsh environments Light (4.5 pounds, 2.1 Kg) Device used for edge omputing, storage and data transfer 8Tbs usable storage Use Snowcore when snowball does not fit(space costrained environment) Must provide your own battery / cables Can be sent back to AWS offline, or connect it to internet and use AWS DataSync to send data AWS snowmobile Transfer exabytes of data Each snowmobile has 100PB of capacity High security: temperature control, GPS, 24/7 video surveillance Better than snowball if you transfer more than 10 PB Usage Process request snowball devices from the AWS console for delivery Install the snowball client / AWS OpsHub on your servers Connect the snowball to your servers and copy files using servers Ship back the device when you’re done (goes to the right AWS facility) Data will loaded into an S3 bucket Snowball is completely wiped What is Edge computing Process data while it’s being created, on an edge location These locations may have Limited / no internet access Limited / no easy access to computing power We setup a Snowball Edge / Snowcone device to do edge computing Use case of edge computing Preprocess data Machine learning at the edge Transcoding media streams Eventually (if need be) we can ship back the device to AWS (for transfering data) Snow family - edge computing Snowcone(smaller) 2 CPUs, 4 GB of memory, wired or wireless access • USB-C power using a cord or the optional battery Snowball Edge - Compute opimized 52 vCPUs, 208 GiB of RAM. Optional GPU (useful for video processing or machine learning) • 42TBusablestorage Snowball Edge - Storage Optimized Up to 40 vCPUs,80 GiB of RAM. Object storage clustering available All: can run EC2 instances &amp; AWS Lamba functios (using AWS IoT Greengrass) Long-term deployment options: 1 and 3 years discounted pricing AWS OpsHub Historical to use Snow family devices, you needed a CLI (Command Line Interface tool) Today, you can use AWS OpsHub (a software you install onn your computer latop) to manage your snow family device unlocking and configured single or cluster devices transfering and managig instances runninng on Snow Family devices Launcing and managinng isntannces runnnig on Snow family Devices Monitor devie mmetrics (storage capacity, active isntancces on your device) Launch compatible AWS services on your devices Snowball to Glacier Snow cannot import to Glacier directly You must use Amazone S3 first, in combination with an S3 life cycle policy Amazonne FsX - Overview Launch 3rd party high-performance file systems on AWS Fully managed service FSx for Lustre FSx for windows file server FSx for Netapp ontap Amazon Fsx for windows (file server) EFS is a shared POSIX system for linux systems. FSX for windows is a fully managed widoes file system shared drive Supports SMB protocol &amp; windoes NTFS Microsoft active directory intefratio ACLS user qoutas Can be nmounted o Linux EC2 instances Scale up to 10s of GB/s, milios IOPS, 100s PB of data Storage options: SSD: latency sensitive workloads (database, media proccessing data analytics, ,,,) HDD: broad spectrum of workloads (home directory, CMS, …) Can be accessed from your o-premises infrastrucure Cann be configured to be Multi-AZ Data is backed up daily to S3 Amazon FSx for Lustre (High performance computing) Lustre is a type of parallel distributted file system, for large scale computing The name Lustre is derived from “linux” and “cluster” Machine learning, high performance computing (HPC) Video processing, financial modeling, electronic design automation Scale up to 100s GB/s, milions of IOPS, sub-ms latencies Storage Options: SSD: low-latency, IOPS intensive workloads, small &amp; random file operations HDD: throughput-intensive workloads, large &amp; sequential file operations Seamless integration with S3 Can “read” S3 as file system (through FSx) Can “write” the output of the computatioos back to S3(through FSx) Can be used fron on-premises serves (VPN or Direct Connect) FSx File System deployment options Scratch File system Temporary storage Data is not replicated (doesn’t persit if file server fails) High burst (6x faster, 200MBs per TiB) Usage short-term processing, optimize costs Persistent File System Long term storage Data is replicated within same AZ Replace failed files within minutes Usage: long term processing, sensitive data Hybrid Cloud for Storage AWS is pushing for “hybrid cloud” Part of your infrstruccture is on the cloud Part of your infrastructure is on-premises This can be due to Long cloud migrations Security requirements CCCompiliance requirements It Stragegy S3 is a proprietary storage technology (uunlike EFS, NFS), so how do you expose the S3 data on premises AWS Storage gateway! Cloud Storage Cloud Native Options Block: EBS, ECS instance store File: Amazon EFS, Amazon FsX Object: S3, Glacier Storage Gateway Bridge between on-premise data and cloud data in S3 Use cases: disater reovery, backup &amp; restore, tiered storage 3 types of storage gateway File Gateway Volume Gateway Tape Gateway File Gateway Configured S3 bucckket are accessible using the NFS and SMB protocol Supports S3 standard, S3 IA, S3 One Zoe IA Buckket acess using IAM roles for each file Gateway Most recently used data is cached in the file Gateway Can be mounted on many servers Inntegrated with Active Direcctory (AD) for user authentication Volume Gateway Block storage using iSCSI protocol backed by S3 Backed by EBS snapshots which can help restore on-premises volumes! Cached volumes: low latency acess to most recent data Stored volumes: entire dataset is on premise, scheduled backups to S3 Tape Gateway Some companies have backup processes using physical tapes (!) With Tape Library (VTL) backed by Amazon S3 and Glacier Tape Gateway, compaies use same process but in the cloud Backup data using existing tape-based processes (annd iSCSI interface) Works witth leading backup software vendors Storage Gateway - Hardware appliance Using Storage Gateway means you need on-premises virtualization Otherwise, you can use a Storage Gateway Hardware Appliancce You can buy it o amazon.com Works with File Gateway Colume Gatewaym TapeGateway Helpful for daily NFS backups in small data centers AWS Storage Gateway Summary Exam tip: Read the question well, it will hinnt at which gateway to use On-premises data to the cloud =&gt; Storage Gateway File access / NFS - user auth with Active Directory =&gt; File Gateway (S3) Volume / Block Storage / iSCSI =&gt; Volume gateway (backed by EBS snapshots) VTL Tape solution / backup with iSCSI =&gt; Tape Gateway (backed by S3 and Glacier) No on-premises virtualization =&gt; Hardware appliance Amazon FSx File Gateway Native access to Amazon FSx for Windows File Server Local cache for frequenncy accessed data Windows nnative compatibility (SMB, NTFS, Active Directory…) Useful for group file shares and home directories AWS Trannsfer Family A fully-mannaged service for file transfer into annd out of amazon S3 or Amazon EFS using the FTP protocol Supported Protools AWS Transfer for FTP FTPS SFTP Managed infrastucture, Scalable, Reliable, Highly Avaiable (multi AZ) Pay per provisioned endpoint per hour + data transfer in GB Store and manage user’s credentials within the service Integrate with existing authenticattion systems (Microsoft Active Directory, LDAP, Okta, Amazon Cognito, custtom) Usage: Sharing files, public datasets, CRM, ERP, … Storage Comparison S3: Object Storage Glacier: Object Archival EFS: Network file system for linux instances, POSIX filesystem FSx for Windows: Netwoork file system for windows servers FSx for Lustre: High performance computing linuxx file system EBS volumes: Network Storage for one EC2 instance at a time Instance Storage: Physiccal storage for your EC2 instance (hhigh IOPS) Storage Gateway: File Gateway, Volume Gateway (cache &amp; stored), Tape Gateway Snowball/snowmobile: to move large amount of data to theh cloud, physically Database: for specific workloads, ussually with indexxing and querying","headline":"AWS S3 and AWS Storage Gateway Services:","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/aws-s3-and-aws-storage-gateway-services/"},"url":"http://localhost:4000/posts/aws-s3-and-aws-storage-gateway-services/"}</script>
<!-- End Jekyll SEO tag -->


  <!-- PWA cache settings -->
  <meta
    name="pwa-cache"
    content="true">

  <title>AWS S3 and AWS Storage Gateway Services: | Programmer From Zero To Mountaint
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Programmer From Zero To Mountaint">
<meta name="application-name" content="Programmer From Zero To Mountaint">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    
      <link rel="preconnect" href="https://polyfill.io" >
      <link rel="dns-prefetch" href="https://polyfill.io" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">Programmer From Zero To Mountaint</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">Programmer blog</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/portfoio/" class="nav-link">
            <i class="fa-fw fas fa-paper-plane"></i>
            

            <span>PORTFOLIO</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/zmerrychristmas"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/twitter_username"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['huybinh.ad','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/b%C3%ACnh-nguy%E1%BB%85n-75312a7b/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>AWS S3 and AWS Storage Gateway Services:</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>AWS S3 and AWS Storage Gateway Services:</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1707066000"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Feb  5, 2024
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://twitter.com/username">Hardwork đẹp trai</a>
            
          </em>
        </span>

        <!-- read time -->
        <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="3887 words"
>
  <em>21 min</em> read</span>

      </div>
      <!-- .d-flex -->
    </div>
    <!-- .post-meta -->
  </header>

  <div class="content">
    <h1 id="advannce-s3">Advannce S3</h1>
<h2 id="s3-mfa-delete"><span class="me-2">S3 MFA Delete</span><a href="#s3-mfa-delete" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<ul>
  <li>MFA (mutil factor authentication) forces uses to genenrate a code in a device (usually a mobile phone or hardware) before doing important operation on S3</li>
  <li>To use MFA-Delete, enable versioninng on the S3 bucket</li>
  <li>You will eed MFA to
    <ul>
      <li>permanetly delete ann object versio</li>
      <li>susped versioing on the bucket</li>
    </ul>
  </li>
  <li>You won’t need MFA for
    <ul>
      <li>enabling versionnig</li>
      <li>listing deleted versions</li>
    </ul>
  </li>
  <li>Only the bucket owner (root account) can eable/disab;e MFA delete</li>
  <li>MFA-Delete currently can only enabled using CLI
    <h2 id="s3-default-encryption-vs-bucket-policies"><span class="me-2">S3 Default Encryption vs Bucket Policies</span><a href="#s3-default-encryption-vs-bucket-policies" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>One way tp “force encryption” is to use a bucket policy ad refuse any API ccall to PUT a S3 object without encryption headers:</li>
  <li>Another way is to use the “default ecryption” option in S3</li>
  <li>Note: Bucket Policies are evaluated before “default encryption”
    <h2 id="s3-access-logs"><span class="me-2">S3 Access Logs</span><a href="#s3-access-logs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>For audit purpose, you may want to log all access to S3 buckets</li>
  <li>Any request made to S3, from any accout, authorized or denied, will be logged into aother S3 bucket</li>
  <li>That data can be analyzed using data analysis tools…</li>
  <li>Or Amazon Athena as we’ll see later i this secction
    <h2 id="s3-access-logs-warning"><span class="me-2">S3 Access Logs: Warning</span><a href="#s3-access-logs-warning" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Do not set your logging bucket to be the monitored bucket</li>
  <li>It will create a logging loop, and your bucket will grow in size exponetially
    <h2 id="s3-replication-crr--srr"><span class="me-2">S3 Replication (CRR &amp; SRR)</span><a href="#s3-replication-crr--srr" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Must enable versioing in source and destiation</li>
  <li>Cross Region Repliccationn (CRR)</li>
  <li>Same Region Replication (SRR)</li>
  <li>Buckets ca be in different accounts</li>
  <li>copying is asynchronous</li>
  <li>Must give proper IAM permissions to S3</li>
  <li>CRR - Use cases: compliancce, lower latency access, replicatio across acccounts</li>
  <li>SRR - Use ccases: log aggregatio, live replication between production annd test accounnts
    <h2 id="s3-replication---notes"><span class="me-2">S3 Replication - Notes</span><a href="#s3-replication---notes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>After activating, onnly new objects are replicated</li>
  <li>Optioally, you can replicate existing objects usig S3 batch replication
    <ul>
      <li>Replicates existing objects and objects that failed replication</li>
    </ul>
  </li>
  <li>For DELETE operationns:
    <ul>
      <li>Can replicate delete markers from source to target (optional settinng)</li>
      <li>Deleteions with a version ID are not replicated (to avoid malicious deletes)</li>
    </ul>
  </li>
  <li>There is no “chaining” of replication
    <ul>
      <li>If bucket I replcatio into bicket 2, which has replication into bucket 3</li>
      <li>Then object create inn bucket I are not replicated to bucket 3
        <h2 id="s3-pre-signed-urls"><span class="me-2">S3 Pre-Signed URLs</span><a href="#s3-pre-signed-urls" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Cann generate pre-signed URLs using SDK or CLI
    <ul>
      <li>For downloads (easy, can use the CLI)</li>
      <li>For uploads (harder, must use the SDK)</li>
    </ul>
  </li>
  <li>Valid for a default of 3600 secods, can change timeout with –expireds-in [TIME_BY_SECONDS] argument</li>
  <li>Users given a pre-signed URL innherit the permissions of the perso who gennerated the Url for GET / PUT</li>
  <li>Examples:
    <ul>
      <li>Allow only logged-in users to download a premium video on your S3 bucket</li>
      <li>Allow a ever changing list of users to download files by generatig URLs dynnamically</li>
      <li>Allow temporarily a user to upload a file to a precise loccation in our bucket
        <h2 id="s3-storage-classes"><span class="me-2">S3 Storage Classes</span><a href="#s3-storage-classes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Amazon S3 Standard - Genneral Purpose</li>
  <li>Amazon S3 Stadard-ifrequent Access(IA)</li>
  <li>Amazon S3 One Zone-Infrequent Access</li>
  <li>Amazon S3 Glacier Instant Retrieval</li>
  <li>Amazon S3 Glacier Flexible Retrieval</li>
  <li>Amazo S3 Glacier Deep Archive</li>
  <li>Amazon S3 Intelligent Tierinng</li>
  <li>Can move betwee classes maually or using S3 lifecycle cofigurations
    <h2 id="s3-durability-and-availability"><span class="me-2">S3 Durability and Availability</span><a href="#s3-durability-and-availability" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Durability
    <ul>
      <li>
        <div class="table-wrapper"><table>
          <tbody>
            <tr>
              <td>High durability (99,999999999%</td>
              <td> </td>
              <td>9’s) of objects across multiple AZ</td>
            </tr>
          </tbody>
        </table></div>
      </li>
      <li>If you store 10.000.000 objects with Amazon S3, you ccan on average expect to incur a loss of a single object once every 10.000 years</li>
      <li>Same for all storage classes</li>
    </ul>
  </li>
  <li>Availability
    <ul>
      <li>Measures how readily available a service is</li>
      <li>Varies depedig o storage class</li>
      <li>Example: S3 standard has 99.99% availability = not avaiable 53 minutes a year
        <h2 id="s3-standard---general-purpose"><span class="me-2">S3 Standard - General Purpose</span><a href="#s3-standard---general-purpose" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>99.99% Availability</li>
  <li>Used for frequently accessed data</li>
  <li>Low latenccy annd high throughput</li>
  <li>Sustai 2 concurennt faccility failures</li>
  <li>Use CAses: Big Data analytics, mobile &amp; gaming appliccations, conntet distribution…
    <h2 id="s3-storage-classes---innfrequent-access"><span class="me-2">S3 Storage Classes - Innfrequent Access</span><a href="#s3-storage-classes---innfrequent-access" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>For data that is less frequently accessed, but requires rapid access when needed</li>
  <li>Lower cost than S3 Standard</li>
  <li>Amazon S3 Standard- Ifreqeunt Access (S3 Standard-IA)
    <ul>
      <li>99.9% Availability</li>
      <li>Use cases: Disaster recovery, backups</li>
    </ul>
  </li>
  <li>Amazon S3 Oe Zonne-Infrequet Acccess (S3 One Zone-IA)
    <ul>
      <li>High durability (99.999999999%) in a sigle AZ; data lost when AZ is destroyed</li>
      <li>99.5% Availability</li>
      <li>Use Cases: Storing secodary backup copies of on-premises data, or data you cann recreate
        <h2 id="amazo-s3-glacier-storage-classes"><span class="me-2">Amazo S3 Glacier Storage Classes</span><a href="#amazo-s3-glacier-storage-classes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Low cost objecct storage meant for archving / backup</li>
  <li>Pricing: pricce for storage + object retrieval cost</li>
  <li>Amazon S3 Glacier Instant Retrieval
    <ul>
      <li>Milisecond retrieval, greate for data accessed once a quarter</li>
      <li>Minimum storage duration of 90 days</li>
    </ul>
  </li>
  <li>Amazon S3 Glacier Fexible Retrieval (formerly Amazon S3 Glacier):
    <ul>
      <li>Expedited (1 to 5 minutes), Standard (3-5 hours), Bulk (5-12 hours)- free</li>
    </ul>
  </li>
  <li>Amazon S3 Glaccier Deep Archive - for long term storage
    <ul>
      <li>Standard (12 hours), Bulk (48 hours)</li>
      <li>Minimum storage duration of 180 days
        <h2 id="s3-intelliget-tiering"><span class="me-2">S3 Intelliget-Tiering</span><a href="#s3-intelliget-tiering" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Small mothly moitorig ad auto tierig fee</li>
  <li>Moves objects automatically between Acccess Tiers based on usage</li>
  <li>There are o retrieval charges i S3 Itelliget-Tierig</li>
  <li>Frequet Access tier (automatic): default tier</li>
  <li>ifrequet Access tier (automatic): objet ot accessd for 30days</li>
  <li>Archive Istant Access tier (automatic): object ot accessed for 90days</li>
  <li>Archive Access tier (optioal): configuratio from 90 days to 700+ days</li>
  <li>Deep Arcchive Access tier (optionnal): ccofig, from 180 days to 700+ days
    <h2 id="s3---moving-between-storage-classes"><span class="me-2">S3 - Moving between storage classes</span><a href="#s3---moving-between-storage-classes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>You can transition objeccts betwee storage classes</li>
  <li>For infrequently accessed objecct, move them to STADARD_IA</li>
  <li>For arcchive objects you don’t need in real-time, GLACIER or DEEP_ARCHIVE</li>
  <li>Moving objects can be automated using a lifecycle configuration
    <h2 id="s3-lifecycle-rules"><span class="me-2">S3 Lifecycle rules</span><a href="#s3-lifecycle-rules" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Transition actions: It defines whe objects are transitioned to aother storage class
    <ul>
      <li>Move objects to Standard IA class 60 days after creatio</li>
      <li>Move to Glacier for archiving after 6 months</li>
    </ul>
  </li>
  <li>Expiration actions: configure objects to expire (delete) after some time
    <ul>
      <li>Access log files can be set to delete after a 365 days</li>
      <li>Can be used to delete old versions of files (if versioning is enabled)</li>
    </ul>
  </li>
  <li>Rules can be created for a certai prefix (ex- s3://mybucket/mp3/*)</li>
  <li>Rules can be created for certain object tags (ex: Departmet Fiancer)
    <h2 id="s3-lifecycle-rules---sceario-i"><span class="me-2">S3 Lifecycle Rules - Sceario I</span><a href="#s3-lifecycle-rules---sceario-i" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Your applicationn o Ec2 creates images thuhmbails after profile photos are uploaded to Amazon S3. These thumbails can be easily recreated, ad only need to kept for 45 days. The source images should be able to be immediately retrieved for these 45 days, and afterwards, the user can wait up to 6 hours. How would you desig this?</li>
  <li>S3 source images can be on STADARD, with a lifecycle configuration to transitionn them to GLACCIER after 45 days.</li>
  <li>S3 thumbnails cann ben o OEZOE_IA, with a lifecycle configurationn to expire them (delete them) after 45 days.es
    <h2 id="s3-lifecyccle-rules---scennario-2"><span class="me-2">S3 Lifecyccle Rules - Scennario 2</span><a href="#s3-lifecyccle-rules---scennario-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>A rule in your company stated that you should be able to recover your deleted S3 objects immediatedly for 15days, although this happen rarely. after this time, and for up to 365 days, deleted objects should be recoverable within 48 hours.</li>
  <li>You need to enable S3 versioning in order to have objecct versions, so thhat “deleted objects” are in fact hidden by a “delete marker” ad ccan be recored</li>
  <li>You can transition these “ocurrent versions” of the object to S3_IA</li>
  <li>You can transition afterwards these “noncurrent versios” to DEEP_ARCHIVE
    <h2 id="s3-analyticcs---storage-class-analysis"><span class="me-2">S3 Analyticcs - Storage class analysis</span><a href="#s3-analyticcs---storage-class-analysis" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>You can setup S3 Abakytics too help determine wheh to trannsition objects from Stadard to Standard_IA</li>
  <li>Does ot work for ONNCCEZONE_IA or GLACIER</li>
  <li>Report is updated daily</li>
  <li>Takes about 24h to 48h hours to first start</li>
  <li>Good first step to put together lifecycle rules (or improve them)!
    <h2 id="s3-baseline-performace"><span class="me-2">S3 Baseline Performace</span><a href="#s3-baseline-performace" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Amazon S3 automatically scales to high request rates, latecy 100-200 ms</li>
  <li>Your applicationnn ccan achieve at lease 3500 PUT/COPY/POST/DELETE and 5500 GET/HEAD request per secod per prefix in a bucket.</li>
  <li>There are o limits to the number of prefixes in a bucket</li>
  <li>Example (object path -&gt; prefix):
    <ul>
      <li>bucket/folder1/sub/file =&gt; /folder1/sub1/</li>
    </ul>
  </li>
  <li>If you spread read across all four prefixes evenly, you can achieve 22000 requests per second for GET and HEAD
    <h2 id="s3-kms-limitatio"><span class="me-2">S3 KMS Limitatio</span><a href="#s3-kms-limitatio" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>If you use SSE-KMS, you may be impacted by the KMS limits</li>
  <li>When you upload, it calls the GenerateDataKey KMS API</li>
  <li>When you download, it calls the Deccrypt KMS API</li>
  <li>Cout towards the KMS qouta per seconnd</li>
  <li>You can request a qouta increase usinng the service qoutas console
    <h2 id="s3-performacce"><span class="me-2">S3 Performacce</span><a href="#s3-performacce" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Multipart upload
    <ul>
      <li>recomeded for files &gt; 100MB, must use for files &gt; 5GB</li>
      <li>can help parallelized uploads (speed up transfers)</li>
    </ul>
  </li>
  <li>S3 Trasfer Acceleration
    <ul>
      <li>Increase transfer speed by transferring file to an AWS edge location which will forward the data to the S3 bucket i thhe target region</li>
      <li>Compatible with multi-part upload
        <h2 id="s3-performace---s3-byte-rage-fetches"><span class="me-2">S3 Performace - S3 Byte Rage Fetches</span><a href="#s3-performace---s3-byte-rage-fetches" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Parallelize GETs by requesting specificc byte rages</li>
  <li>Better resiliece in case of failures
    <h2 id="s3-select--glacier-select"><span class="me-2">S3 Select &amp; Glacier Select</span><a href="#s3-select--glacier-select" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Retrieve less data using SQL by performing server side filterig</li>
  <li>Ca filter by rows &amp; columns (simple SQL statemennnts)</li>
  <li>Less network transfer, less CPU cost client-side
    <h2 id="s3-evet-ootifications"><span class="me-2">S3 Evet ootifications</span><a href="#s3-evet-ootifications" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>S3:ObjecctCreated, S3:ObjectRemoved, S3:ObjectRestore, S3:Replication…</li>
  <li>Object name filterig possible (*.jpg)</li>
  <li>Use case: geerate thumbnails of images uploaded to S3</li>
  <li>Can create as many “S3 events” as desired</li>
  <li>S3 evet notifications typically deliver evennts i seconnds but ca sometimes take a minute or logger
    <h2 id="s3-evennt-notifications-with-amazon-evenntbridge"><span class="me-2">S3 Evennt Notifications with Amazon EvenntBridge</span><a href="#s3-evennt-notifications-with-amazon-evenntbridge" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Adanced filterig options with JSON rules (metadata, object size, name…)</li>
  <li>Multiple Destiations - ex Step Fuctios, Kinesis Stream/ Firehose…</li>
  <li>EvenntBrdge CApabilities - Archive, Replay Evet, Reliable delivery
    <h2 id="s3---requester-pays"><span class="me-2">S3 - Requester Pays</span><a href="#s3---requester-pays" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Ingeeral, bucket owners pay for all Amazon S3 storage ad data trasfer ccosts assocciatted with their bucket</li>
  <li>With Requester Pays buckets, the requester instread of the bucket owner pays the cost of the request and the data download from the bucket</li>
  <li>Helpful when you want to share large datasets with other accoounts</li>
  <li>The requester must be authenticated in AWS (cannot be anonymous)
    <h2 id="amazon-athena"><span class="me-2">Amazon Athena</span><a href="#amazon-athena" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Serverless query service to perform analytics against S3 objects</li>
  <li>Uses Stadard SQL language to query files</li>
  <li>Supports CSV, JSON, ORC, Avro, and Parquet (built on Presto)</li>
  <li>Pricinng: $5.00 per TB of data scanned</li>
  <li>Use compressed or ccolumnnar data for cost-savinng (less sccann)</li>
  <li>Use cases: Business intelligece / analytics / reporting, analyze &amp; query VPC Flow Logs, ELB Logs, CloudTrail trails, etc…</li>
  <li>ExamTip: aalyze data in S3 usig serverless SQL, use Athena
    <h2 id="glaccier-vault-locck"><span class="me-2">Glaccier Vault Locck</span><a href="#glaccier-vault-locck" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Adopt a WORM (write Once Read Many) model</li>
  <li>Lock the policy for future edits (can no loger be changed)</li>
  <li>Helpful for compliannce and data retention
    <h2 id="s3-object-lock-versioning-must-be-enabled"><span class="me-2">S3 Object Lock (versioning must be enabled)</span><a href="#s3-object-lock-versioning-must-be-enabled" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Adopt a WORM (Write Onncce Read Many) model</li>
  <li>Block an object version deletion for a specified amount of time</li>
  <li>Object retentio:
    <ul>
      <li>Retention Period: specifies a fixed period</li>
      <li>Legal Hold: Same protecctio, no expiry date</li>
    </ul>
  </li>
  <li>Models:
    <ul>
      <li>Governance mode: users can’t overwrite or delete an object version or alter its lock setting unless they have special permissios</li>
      <li>Compliance mode: a protected object version ccan’t be overwrittenn or deleted by compliance mode, its retention mode ccann’t be changed, and its retetion period can’t be shortened.
        <h2 id="s3-aws-cloudfront"><span class="me-2">S3 AWS CloudFront</span><a href="#s3-aws-cloudfront" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Content Delivery etwork (CDN)</li>
  <li>Improves read perfomance, conntennnt is cached atn the edge</li>
  <li>216 poit of presence globally (edge locations)</li>
  <li>DDOS protection, inntegration witth shield aws web application firewall</li>
  <li>Can expose external HTTPS ad cann talk to internnal HTTPS backends
    <h2 id="cloudfront---origins"><span class="me-2">CloudFront - Origins</span><a href="#cloudfront---origins" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>S3 bucket
    <ul>
      <li>For distributing files and cachig them at the edge</li>
      <li>Ennhaced security with CloudFrot Origi Access Identity (OAI)</li>
      <li>CloudFrot can be used as an igress (to upload files to S3)</li>
    </ul>
  </li>
  <li>custom Origi (HTTP)
    <ul>
      <li>Applicatio Load Balancer</li>
      <li>EC2 instance</li>
      <li>S3 website (must first enable the buccket as a stati S3 website)</li>
      <li>Any HTTP backend you want
        <h2 id="cloudfront---s3-as-ann-origin"><span class="me-2">CloudFront - S3 as ann Origin</span><a href="#cloudfront---s3-as-ann-origin" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Allow Public IP of edge locations</li>
  <li>Allow security group of load balancer</li>
  <li>OAI + S3 bucket policy
    <h2 id="cloudfront-geo-restriction"><span class="me-2">CloudFront Geo Restriction</span><a href="#cloudfront-geo-restriction" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>whitelist and blacklist
    <h2 id="cloudfront-vs-s3-cross-region-replication"><span class="me-2">CloudFront vs S3 Cross Region Replication</span><a href="#cloudfront-vs-s3-cross-region-replication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Cloudfront
    <ul>
      <li>Global edge network</li>
      <li>Files are cacched for TTL (maybe a day)</li>
      <li>Great for static contet that must be available for everywhere</li>
    </ul>
  </li>
  <li>S3 Cross Regio Replicatio
    <ul>
      <li>Must be setup for eacch region you want replication to happen</li>
      <li>Files are updated i near real-time</li>
      <li>Readonly</li>
      <li>Greate for dynamic content that needs to be available at low-latency in few regions
        <h2 id="aws-cloudfront-hands-on"><span class="me-2">AWS CloudFront Hands On</span><a href="#aws-cloudfront-hands-on" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>We’ll create an S3 bucket</li>
  <li>We’ll create a CloudFront distribution</li>
  <li>We’ll create an Origi Access Idetity</li>
  <li>We’ll limit the S3 bucket to be accessed only using this identity
    <h2 id="cloudfront-siged-url--signed-cookies"><span class="me-2">CloudFront Siged URL / Signed Cookies</span><a href="#cloudfront-siged-url--signed-cookies" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>You want to distribute paid shared cotent to premium users over tthe world</li>
  <li>We can use CloudFront Signed URL/Cookies. We attach a policy with:
    <ul>
      <li>Include URL expiration</li>
      <li>Include IP ranges to access the data from</li>
      <li>Trusted signers (which AWS accounts ccan create signed URLs)</li>
    </ul>
  </li>
  <li>How long should be URL be valid for?
    <ul>
      <li>Shared content (movie, music): make it short (a few minnutes)</li>
      <li>Private content (private to the user): you can make it last for years</li>
    </ul>
  </li>
  <li>Signed URL = access to individual files (one signed URL per file)</li>
  <li>Signed cookies = access to multiple files (one siged cookie for may files)
    <h2 id="cloudfront-siged-url-diagram"><span class="me-2">CloudFront Siged URL Diagram</span><a href="#cloudfront-siged-url-diagram" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
    <p><a href="https://data.terabox.com/thumbnail/9bd8d2b02q4c1b909d7cd3f1671486b2?fid=4401547290288-250528-880400965818599&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-exScfAfu2mVOs1MJ46CP7OeVlqw%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=86318388147826803&amp;dp-callid=0&amp;time=1667055600&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" class="popup img-link  shimmer"><img src="https://data.terabox.com/thumbnail/9bd8d2b02q4c1b909d7cd3f1671486b2?fid=4401547290288-250528-880400965818599&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-exScfAfu2mVOs1MJ46CP7OeVlqw%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=86318388147826803&amp;dp-callid=0&amp;time=1667055600&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" alt="" loading="lazy"></a></p>
    <h2 id="cloudfront-signed-url-vs-s3-pre-signed-url"><span class="me-2">CloudFront Signed URL vs S3 Pre-Signed URL</span><a href="#cloudfront-signed-url-vs-s3-pre-signed-url" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>CloudFront Signed URL
    <ul>
      <li>Allow access to a path, no matter the origin</li>
      <li>Account wide key-pair, only the root can manage it</li>
      <li>Can filter by IP, path, date, expiratio</li>
      <li>Can leverage caching features</li>
    </ul>
  </li>
  <li>S3 Pre- Signed URL
    <ul>
      <li>Issues a request as the person who pre-signed the URL</li>
      <li>Uses the IAM key of the signing IAM pricipal</li>
      <li>Limited lifetime
        <h2 id="cloudfront-pricce-class"><span class="me-2">CloudFront Pricce class</span><a href="#cloudfront-pricce-class" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Price class: All, 200, 100
<a href="https://data.terabox.com/thumbnail/1005523ec7d72730e6c714fcb50bc5bd?fid=4401547290288-250528-714242985916769&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-op2aJU07fqBN9TD9TJo1jaw%2bo0k%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=87062819966580274&amp;dp-callid=0&amp;time=1667059200&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" class="popup img-link  shimmer"><img src="https://data.terabox.com/thumbnail/1005523ec7d72730e6c714fcb50bc5bd?fid=4401547290288-250528-714242985916769&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-op2aJU07fqBN9TD9TJo1jaw%2bo0k%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=87062819966580274&amp;dp-callid=0&amp;time=1667059200&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" alt="" loading="lazy"></a>
    <h1 id="cloudfront-origin">CloudFront Origin</h1>
  </li>
  <li>Based on path pattern:
    <ul>
      <li>• /images/*</li>
      <li>• /api/*</li>
      <li>• /*</li>
    </ul>
  </li>
  <li>Origin group: high availability and do failover
    <h2 id="cloudfront--field-level-encryption"><span class="me-2">CloudFront – Field Level Encryption</span><a href="#cloudfront--field-level-encryption" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>protected user sensitive iformation through application stack, HTTPS, asymmetric encryption</li>
  <li>Adds an additional layer of security along with HTTPS</li>
  <li>Usage:
    <ul>
      <li>Specify set of fields in POST requests that you want to be encrypted (up to 10 fields) • Specify the public key to encrypt them
        <h2 id="aws-global-accelerator"><span class="me-2">AWS Global Accelerator</span><a href="#aws-global-accelerator" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Anycast IP: all servers hold the same IP address and the client is routed to the nearest one</li>
  <li>Unicast IP: one server holds one IP address</li>
  <li>Leverage the AWS internal etwork to route to your applicatio</li>
  <li>2 anycast IP are created for your application. The anycast IP send traffic directly to edge locations. The Edge locations send traffic to your application</li>
  <li>Performance
    <ul>
      <li>Intelligent routing to lower latecy any fast regional failover</li>
      <li>No issue with client cache</li>
      <li>Interal AWS network</li>
    </ul>
  </li>
  <li>Health Checcks
    <ul>
      <li>Global Acccelerator performs a health check</li>
      <li>Help make your appliccationn global (failover lesstha 1 mintes)</li>
      <li>Great for disater recovery</li>
    </ul>
  </li>
  <li>Security
    <ul>
      <li>Only 2 external IP need to be whhitelisted</li>
      <li>DDos protectio thanks to AWS shield
        <h2 id="aws-global-accelerator-vs-cloudfront"><span class="me-2">AWS Global Accelerator vs CloudFront</span><a href="#aws-global-accelerator-vs-cloudfront" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>They both use the AWS global nnetwork and its edge locations around the workld</li>
  <li>Both services inntegrate with AWS Shiled for DDos protectionn</li>
  <li>CloutFront
    <ul>
      <li>Improves performance for both cache able content (such as images and video)</li>
      <li>Dynamic content (such as API acceleratio and dynamic site delivery)</li>
      <li>Content is served at the edge</li>
    </ul>
  </li>
  <li>Global Accelerator
    <ul>
      <li>Improves performance for a wide range of application over TCP and UDP</li>
      <li>Proxying packes at the edge to applications running in one  or more AWS regions</li>
      <li>Good fit for non-HTTP use cases as gaming  (UDP), IoT (MQTT), or Voice over IP</li>
      <li>Good for HTTP use cases that require static IP address</li>
      <li>Good for HTTP use cases that required determistic fast regional failover
        <h2 id="aws-snow-family"><span class="me-2">AWS Snow Family</span><a href="#aws-snow-family" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Highly - secure, portable devices to collect and process data at the edge, and migrate data into and out to AWS</li>
  <li>Data migration: snowcone, snowballedge, snowmobile</li>
  <li>Edge computing: snowcone, snowball edge
    <h2 id="data-migrations-with-aws-snow-family"><span class="me-2">Data migrations with AWS snow Family</span><a href="#data-migrations-with-aws-snow-family" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>High speeds: 100mbs, 1Gbs, 10Gbs</li>
  <li>Limited connectivity</li>
  <li>Limited bandwidth</li>
  <li>High network cost</li>
  <li>Shared bandwidth</li>
  <li>Connection stability</li>
  <li>offline, more than one week
    <h2 id="snowball-edge"><span class="me-2">Snowball Edge</span><a href="#snowball-edge" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Physical data transport solution: move Tbs, Pbs of data in or out AWS</li>
  <li>Pay network fees, pay per data transfer job</li>
  <li>80TB of HDD capacity for block volume and S3 compatible object storage(storage)</li>
  <li>42TB of HDD capacity for block volume and S3 compaitible object storage(compute)</li>
  <li>up to 10 nodes</li>
  <li>Use cases: large data cloud migrations, DC deccommisions, disaster recovery
    <h2 id="aws-snowcore"><span class="me-2">AWS snowcore</span><a href="#aws-snowcore" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>small, portable computing, anywhere, regged &amp; secure, withstands harsh environments</li>
  <li>Light (4.5 pounds, 2.1 Kg)</li>
  <li>Device used for edge omputing, storage and data transfer</li>
  <li>8Tbs usable storage</li>
  <li>Use Snowcore when snowball does not fit(space costrained environment)</li>
  <li>Must provide your own battery / cables</li>
  <li>Can be sent back to AWS offline, or connect it to internet and use AWS DataSync to send data
    <h2 id="aws-snowmobile"><span class="me-2">AWS snowmobile</span><a href="#aws-snowmobile" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Transfer exabytes of data</li>
  <li>Each snowmobile has 100PB of capacity</li>
  <li>High security: temperature control, GPS, 24/7 video surveillance</li>
  <li>Better than snowball if you transfer more than 10 PB
    <h2 id="usage-process"><span class="me-2">Usage Process</span><a href="#usage-process" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
    <ol>
      <li>request snowball devices from the AWS console for delivery</li>
      <li>Install the snowball client / AWS OpsHub on your servers</li>
      <li>Connect the snowball to your servers and copy files using servers</li>
      <li>Ship back the device when you’re done (goes to the right AWS facility)</li>
      <li>Data will loaded into an S3 bucket</li>
      <li>Snowball is completely wiped
        <h2 id="what-is-edge-computing"><span class="me-2">What is Edge computing</span><a href="#what-is-edge-computing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ol>
  </li>
  <li>Process data while it’s being created, on an edge location</li>
  <li>These locations may have
    <ul>
      <li>Limited / no internet access</li>
      <li>Limited / no easy access to computing power</li>
    </ul>
  </li>
  <li>We setup a Snowball Edge / Snowcone device to do edge computing</li>
  <li>Use case of edge computing
    <ul>
      <li>Preprocess data</li>
      <li>Machine learning at the edge</li>
      <li>Transcoding media streams</li>
    </ul>
  </li>
  <li>Eventually (if need be) we can ship back the device to AWS (for transfering data)
    <h2 id="snow-family---edge-computing"><span class="me-2">Snow family - edge computing</span><a href="#snow-family---edge-computing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Snowcone(smaller)
    <ul>
      <li>2 CPUs, 4 GB of memory, wired or wireless access • USB-C power using a cord or the optional battery</li>
    </ul>
  </li>
  <li>Snowball Edge - Compute opimized
    <ul>
      <li>52 vCPUs, 208 GiB of RAM. Optional GPU (useful for video processing or machine learning) • 42TBusablestorage</li>
    </ul>
  </li>
  <li>Snowball Edge - Storage Optimized
    <ul>
      <li>Up to 40 vCPUs,80 GiB of RAM. Object storage clustering available</li>
    </ul>
  </li>
  <li>All: can run EC2 instances &amp; AWS Lamba functios (using AWS IoT Greengrass)</li>
  <li>Long-term deployment options: 1 and 3 years discounted pricing
    <h2 id="aws-opshub"><span class="me-2">AWS OpsHub</span><a href="#aws-opshub" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Historical to use Snow family devices, you needed a CLI (Command Line Interface tool)</li>
  <li>Today, you can use AWS OpsHub (a software you install onn your computer latop) to manage your snow family device
    <ul>
      <li>unlocking and configured single or cluster devices</li>
      <li>transfering and managig instances runninng on Snow Family devices</li>
      <li>Launcing and managinng isntannces runnnig on Snow family Devices</li>
      <li>Monitor devie mmetrics (storage capacity, active isntancces on your device)</li>
      <li>Launch compatible AWS services on your devices
        <h2 id="snowball-to-glacier"><span class="me-2">Snowball to Glacier</span><a href="#snowball-to-glacier" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Snow cannot import to Glacier directly</li>
  <li>You must use Amazone S3 first, in combination with an S3 life cycle policy
    <h2 id="amazonne-fsx---overview"><span class="me-2">Amazonne FsX - Overview</span><a href="#amazonne-fsx---overview" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Launch 3rd party high-performance file systems on AWS</li>
  <li>Fully managed service
    <ul>
      <li>FSx for Lustre</li>
      <li>FSx for windows file server</li>
      <li>FSx for Netapp ontap
        <h2 id="amazon-fsx-for-windows-file-server"><span class="me-2">Amazon Fsx for windows (file server)</span><a href="#amazon-fsx-for-windows-file-server" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>EFS is a shared POSIX system for linux systems.</li>
  <li>FSX for windows is a fully managed widoes file system shared drive</li>
  <li>Supports SMB protocol &amp; windoes NTFS</li>
  <li>Microsoft active directory intefratio ACLS user qoutas</li>
  <li>Can be nmounted o Linux EC2 instances</li>
  <li>Scale up to 10s of GB/s, milios IOPS, 100s PB of data</li>
  <li>Storage options:
    <ul>
      <li>SSD: latency sensitive workloads (database, media proccessing data analytics, ,,,)</li>
      <li>HDD: broad spectrum of workloads (home directory, CMS, …)</li>
    </ul>
  </li>
  <li>Can be accessed from your o-premises infrastrucure</li>
  <li>Cann be configured to be Multi-AZ</li>
  <li>Data is backed up daily to S3
    <h2 id="amazon-fsx-for-lustre-high-performance-computing"><span class="me-2">Amazon FSx for Lustre (High performance computing)</span><a href="#amazon-fsx-for-lustre-high-performance-computing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Lustre is a type of parallel distributted file system, for large scale computing</li>
  <li>The name Lustre is derived from “linux” and “cluster”</li>
  <li>Machine learning, high performance computing (HPC)</li>
  <li>Video processing, financial modeling, electronic design automation</li>
  <li>Scale up to 100s GB/s, milions of IOPS, sub-ms latencies</li>
  <li>Storage Options:
    <ul>
      <li>SSD: low-latency, IOPS intensive workloads, small &amp; random file operations</li>
      <li>HDD: throughput-intensive workloads, large &amp; sequential file operations</li>
    </ul>
  </li>
  <li>Seamless integration with S3
    <ul>
      <li>Can “read” S3 as file system (through FSx)</li>
      <li>Can “write” the output of the computatioos back to S3(through FSx)</li>
    </ul>
  </li>
  <li>Can be used fron on-premises serves (VPN or Direct Connect)
    <h2 id="fsx-file-system-deployment-options"><span class="me-2">FSx File System deployment options</span><a href="#fsx-file-system-deployment-options" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Scratch File system
    <ul>
      <li>Temporary storage</li>
      <li>Data is not replicated (doesn’t persit if file server fails)</li>
      <li>High burst (6x faster, 200MBs per TiB)</li>
      <li>Usage short-term processing, optimize costs</li>
    </ul>
  </li>
  <li>Persistent File System
    <ul>
      <li>Long term storage</li>
      <li>Data is replicated within same AZ</li>
      <li>Replace failed files within minutes</li>
      <li>Usage: long term processing, sensitive data
        <h2 id="hybrid-cloud-for-storage"><span class="me-2">Hybrid Cloud for Storage</span><a href="#hybrid-cloud-for-storage" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>AWS is pushing for “hybrid cloud”
    <ul>
      <li>Part of your infrstruccture is on the cloud</li>
      <li>Part of your infrastructure is on-premises</li>
    </ul>
  </li>
  <li>This can be due to
    <ul>
      <li>Long cloud migrations</li>
      <li>Security requirements</li>
      <li>CCCompiliance requirements</li>
      <li>It Stragegy</li>
    </ul>
  </li>
  <li>S3 is a proprietary storage technology (uunlike EFS, NFS), so how do you expose the S3 data on premises</li>
  <li>AWS Storage gateway!
    <h2 id="cloud-storage-cloud-native-options"><span class="me-2">Cloud Storage Cloud Native Options</span><a href="#cloud-storage-cloud-native-options" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Block: EBS, ECS instance store</li>
  <li>File: Amazon EFS, Amazon FsX</li>
  <li>Object: S3, Glacier
    <h2 id="storage-gateway"><span class="me-2">Storage Gateway</span><a href="#storage-gateway" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Bridge between on-premise data and cloud data in S3</li>
  <li>Use cases: disater reovery, backup &amp; restore, tiered storage</li>
  <li>3 types of storage gateway
    <ul>
      <li>File Gateway</li>
      <li>Volume Gateway</li>
      <li>Tape Gateway
        <h2 id="file-gateway"><span class="me-2">File Gateway</span><a href="#file-gateway" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
      </li>
    </ul>
  </li>
  <li>Configured S3 bucckket are accessible using the NFS and SMB protocol</li>
  <li>Supports S3 standard, S3 IA, S3 One Zoe IA</li>
  <li>Buckket acess using IAM roles for each file Gateway</li>
  <li>Most recently used data is cached in the file Gateway</li>
  <li>Can be mounted on many servers</li>
  <li>Inntegrated with Active Direcctory (AD) for user authentication
<a href="https://data.terabox.com/thumbnail/9541e54c9b13679479ef98373a5b37b6?fid=4401547290288-250528-565944490476786&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-X99Tte0SKxMpBvSqRo6Un5u%2bgYI%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=99464727730881533&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" class="popup img-link  shimmer"><img src="https://data.terabox.com/thumbnail/9541e54c9b13679479ef98373a5b37b6?fid=4401547290288-250528-565944490476786&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-X99Tte0SKxMpBvSqRo6Un5u%2bgYI%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=99464727730881533&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" alt="" loading="lazy"></a>
    <h2 id="volume-gateway"><span class="me-2">Volume Gateway</span><a href="#volume-gateway" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Block storage using iSCSI protocol backed by S3</li>
  <li>Backed by EBS snapshots which can help restore on-premises volumes!</li>
  <li>Cached volumes: low latency acess to most recent data</li>
  <li>Stored volumes: entire dataset is on premise, scheduled backups to S3
<a href="https://data.terabox.com/thumbnail/3cb88f4372807d6b45b6e250074b5a02?fid=4401547290288-250528-683232502748411&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-4I3kpMtw60JSvW15nB7I%2bxHBVr8%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=99515160729716411&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" class="popup img-link  shimmer"><img src="https://data.terabox.com/thumbnail/3cb88f4372807d6b45b6e250074b5a02?fid=4401547290288-250528-683232502748411&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-4I3kpMtw60JSvW15nB7I%2bxHBVr8%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=99515160729716411&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" alt="" loading="lazy"></a>
    <h2 id="tape-gateway"><span class="me-2">Tape Gateway</span><a href="#tape-gateway" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Some companies have backup processes using physical tapes (!)</li>
  <li>With Tape Library (VTL) backed by Amazon S3 and Glacier</li>
  <li>Tape Gateway, compaies use same process but in the cloud</li>
  <li>Backup data using existing tape-based processes (annd iSCSI interface)</li>
  <li>Works witth leading backup software vendors
<a href="https://data.terabox.com/thumbnail/84727285c82587688cb091a98c54b236?fid=4401547290288-250528-513614965258638&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-cqkt5Msh0Nc%2bXmfv1vUfmEVx5oY%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=99607953731024322&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" class="popup img-link  shimmer"><img src="https://data.terabox.com/thumbnail/84727285c82587688cb091a98c54b236?fid=4401547290288-250528-513614965258638&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-cqkt5Msh0Nc%2bXmfv1vUfmEVx5oY%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=99607953731024322&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" alt="" loading="lazy"></a>
    <h2 id="storage-gateway---hardware-appliance"><span class="me-2">Storage Gateway - Hardware appliance</span><a href="#storage-gateway---hardware-appliance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Using Storage Gateway means you need on-premises virtualization</li>
  <li>Otherwise, you can use a Storage Gateway Hardware Appliancce</li>
  <li>You can buy it o amazon.com</li>
  <li>Works with File Gateway Colume Gatewaym TapeGateway</li>
  <li>Helpful for daily NFS backups in small data centers
<a href="https://data.terabox.com/thumbnail/d2e5a24f5a2b943ab07c7123c086aa1b?fid=4401547290288-250528-594951372241647&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-PpQgFjPTYCIqCkQIfUyrGm9TORk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=99867849181510849&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" class="popup img-link  shimmer"><img src="https://data.terabox.com/thumbnail/d2e5a24f5a2b943ab07c7123c086aa1b?fid=4401547290288-250528-594951372241647&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-PpQgFjPTYCIqCkQIfUyrGm9TORk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=99867849181510849&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" alt="" loading="lazy"></a>
    <h2 id="aws-storage-gateway-summary"><span class="me-2">AWS Storage Gateway Summary</span><a href="#aws-storage-gateway-summary" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Exam tip: Read the question well, it will hinnt at which gateway to use</li>
  <li>On-premises data to the cloud =&gt; Storage Gateway</li>
  <li>File access / NFS - user auth with Active Directory =&gt; File Gateway (S3)</li>
  <li>Volume / Block Storage / iSCSI =&gt; Volume gateway (backed by EBS snapshots)</li>
  <li>VTL Tape solution / backup with iSCSI =&gt; Tape Gateway (backed by S3 and Glacier)</li>
  <li>No on-premises virtualization =&gt; Hardware appliance
    <h2 id="amazon-fsx-file-gateway"><span class="me-2">Amazon FSx File Gateway</span><a href="#amazon-fsx-file-gateway" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>Native access to Amazon FSx for Windows File Server</li>
  <li>Local cache for frequenncy accessed data</li>
  <li>Windows nnative compatibility (SMB, NTFS, Active Directory…)</li>
  <li>Useful for group file shares and home directories
<a href="https://data.terabox.com/thumbnail/5accd91da63956a204346a1c85969048?fid=4401547290288-250528-829103490165665&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-jS4ZvFOZ1otQI8K3HPWK77yWHUA%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=100080404318942677&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" class="popup img-link  shimmer"><img src="https://data.terabox.com/thumbnail/5accd91da63956a204346a1c85969048?fid=4401547290288-250528-829103490165665&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-jS4ZvFOZ1otQI8K3HPWK77yWHUA%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=100080404318942677&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" alt="" loading="lazy"></a>
    <h2 id="aws-trannsfer-family"><span class="me-2">AWS Trannsfer Family</span><a href="#aws-trannsfer-family" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>A fully-mannaged service for file transfer into annd out of amazon S3 or Amazon EFS using the FTP protocol</li>
  <li>Supported Protools
    <ul>
      <li>AWS Transfer for FTP</li>
      <li>FTPS</li>
      <li>SFTP</li>
    </ul>
  </li>
  <li>Managed infrastucture, Scalable, Reliable, Highly Avaiable (multi AZ)</li>
  <li>Pay per provisioned endpoint per hour + data transfer in GB</li>
  <li>Store and manage user’s credentials within the service</li>
  <li>Integrate with existing authenticattion systems (Microsoft  Active Directory, LDAP, Okta, Amazon Cognito, custtom)</li>
  <li>Usage: Sharing files, public datasets, CRM,  ERP, …
<a href="https://data.terabox.com/thumbnail/ad8a21eb17b6fd1e04c650a52114cfdf?fid=4401547290288-250528-1051608938615895&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-Clj1wJqTI2ud9WRsIF8RYgOyqpw%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=100180842465197700&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" class="popup img-link  shimmer"><img src="https://data.terabox.com/thumbnail/ad8a21eb17b6fd1e04c650a52114cfdf?fid=4401547290288-250528-1051608938615895&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-Clj1wJqTI2ud9WRsIF8RYgOyqpw%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=100180842465197700&amp;dp-callid=0&amp;time=1667106000&amp;size=c1680_u1050&amp;quality=90&amp;vuk=4401547290288&amp;ft=image&amp;autopolicy=1" alt="" loading="lazy"></a>
    <h2 id="storage-comparison"><span class="me-2">Storage Comparison</span><a href="#storage-comparison" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
  </li>
  <li>S3: Object Storage</li>
  <li>Glacier: Object Archival</li>
  <li>EFS: Network file system for linux instances, POSIX filesystem</li>
  <li>FSx for Windows: Netwoork file system for windows servers</li>
  <li>FSx for Lustre: High performance computing linuxx file system</li>
  <li>EBS volumes: Network Storage for one EC2 instance at a time</li>
  <li>Instance Storage: Physiccal storage for your EC2 instance (hhigh IOPS)</li>
  <li>Storage Gateway: File Gateway, Volume Gateway (cache &amp; stored), Tape Gateway</li>
  <li>Snowball/snowmobile: to move large amount of data to theh cloud, physically</li>
  <li>Database: for specific workloads, ussually with indexxing and querying</li>
</ul>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/fullstack/">Fullstack</a>,
          <a href="/categories/architect/">Architect</a>,
          <a href="/categories/aws/">AWS</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/aws/"
            class="post-tag no-text-decoration"
          >aws</a>
        
          <a
            href="/tags/architecture/"
            class="post-tag no-text-decoration"
          >architecture</a>
        
          <a
            href="/tags/fullstack/"
            class="post-tag no-text-decoration"
          >fullstack</a>
        
          <a
            href="/tags/s3/"
            class="post-tag no-text-decoration"
          >s3</a>
        
          <a
            href="/tags/glacier/"
            class="post-tag no-text-decoration"
          >Glacier</a>
        
          <a
            href="/tags/efs/"
            class="post-tag no-text-decoration"
          >EFS</a>
        
          <a
            href="/tags/fsx/"
            class="post-tag no-text-decoration"
          >FSx</a>
        
          <a
            href="/tags/ebs/"
            class="post-tag no-text-decoration"
          >EBS</a>
        
          <a
            href="/tags/kms/"
            class="post-tag no-text-decoration"
          >kms</a>
        
          <a
            href="/tags/database/"
            class="post-tag no-text-decoration"
          >database</a>
        
          <a
            href="/tags/snow-family/"
            class="post-tag no-text-decoration"
          >Snow family</a>
        
          <a
            href="/tags/cloudfront/"
            class="post-tag no-text-decoration"
          >CloudFront</a>
        
          <a
            href="/tags/instancestorage/"
            class="post-tag no-text-decoration"
          >InstanceStorage</a>
        
          <a
            href="/tags/storagegateway/"
            class="post-tag no-text-decoration"
          >StorageGateway</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/AdHuybinh" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/alz.ailove" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://telegram.me/share?text=AWS%20S3%20and%20AWS%20Storage%20Gateway%20Services:%20-%20Programmer%20From%20Zero%20To%20Mountaint&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Faws-s3-and-aws-storage-gateway-services%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

      

      <a href="https://www.linkedin.com/in/b%C3%ACnh-nguy%E1%BB%85n-75312a7b/" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin">
        <i class="fa-fw fab fa-linkedin"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/text-and-typography/">Text and Typography</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/cai-dat-moi-truong-ruby-on-rails-tren-ubuntu/">Cài đặt môi trường Ruby on Rails trên ubuntu 20.04</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/things-after-install-ubuntu-2004-for-developer/">Things after install ubuntu 20.04 for developer</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/rails-validation-form/">Rails validation form</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/how-to-create-ecommerce-website-use-laravel-9-vuejs-docker-supervisord-brooadcast-and-redis-queue-part-1/">How to create ecommerce website use Laravel 9, VueJs, Docker, Supervisord, Brooadcast and Redis Queue (part 1)</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/rails/">rails</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/api/">api</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aws/">AWS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/s3/">s3</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/architecture/">architecture</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/athena/">athena</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aurora/">aurora</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/advance-s3/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1707066000"
  data-df="ll"
  
>
  Feb  5, 2024
</time>

              <h4 class="pt-0 my-2">Advance S3</h4>
              <div class="text-muted">
                <p>
                  





                  Advanced S3
S3 MFA-Delete

  MFA (multi factor authentication) forces user to generate a code on a device (ussually a mobile phone or hardware) before doing important operations on S3
  To use MFA-...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/aws-database-rds-aurora-elasticache-dynamodb-s3-athena-redshift-aws-glue-aws-neptune-elasticsearch/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1707152400"
  data-df="ll"
  
>
  Feb  6, 2024
</time>

              <h4 class="pt-0 my-2">AWS Database: RDS, Aurora, ElastiCache, DynamoDB, S3, Athena, Redshift, AWS Glue, AWS Neptune, ElasticSearch</h4>
              <div class="text-muted">
                <p>
                  





                  Databases
Choosing the Right Database

  Read-heavy, write heavy, or database workload? Throughput needs? Will it change, does it need to scale or fluctuate during the day?
  How much data to store...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/aws-monitoring-audit-and-performance/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1707152400"
  data-df="ll"
  
>
  Feb  6, 2024
</time>

              <h4 class="pt-0 my-2">AWS Monitoring, Audit, and Performance</h4>
              <div class="text-muted">
                <p>
                  





                  AWS Monitoring, Audit and Performance
AWS CloudWatch Metrics

  Cloudwatch provides metrics for every services in AWS
  Metric is a variable to monitor (CPUUtilization, NetworkIn…)
  Metrics belong...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/advance-s3/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Advance S3</p>
    </a>
  

  
    <a
      href="/posts/serverless-architectures-examples/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Serverless Architectures Examples</p>
    </a>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://twitter.com/username">Hardwork đẹp trai</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/rails/">rails</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/api/">api</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aws/">AWS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/s3/">s3</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/architecture/">architecture</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/athena/">athena</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aurora/">aurora</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->




  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

